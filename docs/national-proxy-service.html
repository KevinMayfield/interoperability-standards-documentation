<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>National Proxy Service - Interoperability Standards - Discovery v0.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>


      <!-- <script src="assets/nhsuk.js" defer></script> -->

      <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
      <!-- Placeholder for child template CSS declarations -->
  <!-- Project extras
<link
        type="font/woff2"
        href="assets/fonts/FrutigerLTW01-55Roman.woff2"
        rel="preload"
        as="font"
        crossorigin
/>
<link
        type="font/woff2"
        href="assets/fonts/FrutigerLTW01-65Bold.woff2"
        rel="preload"
        as="font"
        crossorigin
/>
<link href="assets/css/nhsuk.css" rel="stylesheet" /> -->

  <!-- Bootstrap core CSS overrides to bootstrap-fhir.css -->
<link rel="stylesheet" href="assets/css/nhse.css"/>



    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="fhir-logo" href="assets/ico/icon-fhir-144.png"/>
    <link sizes="114x114" rel="fhir-logo" href="assets/ico/icon-fhir-114.png"/>
    <link sizes="72x72" rel="fhir-logo" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/favicons/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"8"}
    h3,h4,h5,h6{--heading-prefix:"8"}</style>
    <div id="segment-header" class="segment nhsuk-header">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->

  <!-- Left logo - typically the publisher's logo - project or affiliate -->
        <div id="project-nav">
          <a no-external="true" id="project-logo" href="https://www.england.nhs.uk">
            <img src="assets/images/nhse-logo.png" alt="Project home" height="61"/>
          </a>
        </div>

  <!-- Right logo - for example the FHIR logo -->
  <!-- Make sure you have authorization to use the FHIR logo -->

        <div id="family-nav">
              <!-- <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="60" alt="FHIR website" src="assets/images/fhir-logo-www.png"/> </a> -->
        </div> 
      

  <!-- search icon - if you want -->
  <!-- <div id="hl7-search">
          <a id="hl7-search-lnk" no-external="true" href="http://hl7.org/fhir/search.cfm"><img alt="Search FHIR" src="assets/images/search.png"/></a>
        </div> -->


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Interoperability Standards - Discovery</span>
            <br/>
            <span style="display:inline-block;">0.0.1 - ci-build



   <img src="assets/images/GB-ENG.svg" alt="England flag" title="England" height="16"/>


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li>
    <a href="toc.html">Table of Contents</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Design
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="background.html">Background</a>
      </li>
      <li>
        <a href="interoperability-standards.html">Interoperability Standards</a>
      </li>
      <li>
        <a href="restful-api.html">RESTful API</a>
      </li>
      <li>
        <a href="documents.html">Documents Interoperability</a>
      </li>
      <li>
        <a href="workflow.html">Workflow</a>
      </li>
      <li>
        <a href="testing.html">Conformance and Testing (FHIR)</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Build
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="validation.html">FHIR Validation</a>
      </li>
      <li>
        <a href="national-proxy-service.html">National Proxy Service</a>
      </li>
      <li>
        <a href="personal-demographics-service.html">Personal Demographics Service</a>
      </li>
      <li>
        <a href="multicast-notification-service.html">Multicast Notification Service</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">FHIR Assets</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Support
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="downloads.html">Downloads</a>
      </li>
    </ul>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><b>National Proxy Service</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">Interoperability Standards - Discovery - Local Development build (v0.0.1) built by the FHIR (HL7&reg; FHIR&reg; Standard) Build Tools. See the <a href="https://fhir.nhs.uk/England/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>National Proxy Service</h2>
  












    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#entity-relationship-diagram" id="markdown-toc-entity-relationship-diagram">Entity Relationship Diagram</a></li>
  <li><a href="#create-a-relationship" id="markdown-toc-create-a-relationship">Create a relationship</a></li>
  <li><a href="#validate-a-relationship" id="markdown-toc-validate-a-relationship">Validate a relationship</a></li>
  <li><a href="#view-a-relationship" id="markdown-toc-view-a-relationship">View a relationship</a></li>
  <li><a href="#manage-the-lifecycle-of-a-relationship" id="markdown-toc-manage-the-lifecycle-of-a-relationship">Manage the lifecycle of a relationship</a></li>
  <li><a href="#revoke-a-relationship" id="markdown-toc-revoke-a-relationship">Revoke a relationship</a></li>
  <li><a href="#api-documentation-capabilitystatement" id="markdown-toc-api-documentation-capabilitystatement">API Documentation (CapabilityStatement)</a></li>
</ul>

</div>

<p><a href="https://nhsd-confluence.digital.nhs.uk/display/NPA/Overview">Internal Confluence Page</a></p>

<h3 id="overview">Overview</h3>

<div>
<img src="National-Proxy-Process-Overview.png" alt="National Proxy Overview" width="60%"/>
<p>Figure 1 - National Proxy Overview</p>
<p></p>
</div>

<h4 id="create-relationship">Create Relationship</h4>

<p>&lt;?xml version=”1.0” encoding=”us-ascii” standalone=”no”?&gt;<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 344 326" zoomAndPan="magnify" preserveAspectRatio="none" width="344px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:344px;height:326px;background:#FFFFFF;" version="1.1" height="326px"><defs><filter width="300%" x="-1" y="-1" id="fmrkujfvvfjv" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g><text font-weight="bold" lengthAdjust="spacing" x="99.5" font-size="14" textLength="142" y="33.5352" font-family="sans-serif" fill="#000000">Create Relationship</text><rect filter="url(#fmrkujfvvfjv)" rx="12.5" ry="12.5" width="140" x="95.5" y="48.4883" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="34.1328"></rect><text lengthAdjust="spacing" x="105.5" font-size="12" textLength="120" y="70.0898" font-family="sans-serif" fill="#000000">Create a relationship</text><polygon filter="url(#fmrkujfvvfjv)" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" points="118.5,102.6211,212.5,102.6211,224.5,114.6211,212.5,126.6211,118.5,126.6211,106.5,114.6211,118.5,102.6211"></polygon><text lengthAdjust="spacing" x="118.5" font-size="11" textLength="94" y="118.7783" font-family="sans-serif" fill="#000000">Needs Validating?</text><text lengthAdjust="spacing" x="65.5" font-size="11" textLength="41" y="112.3008" font-family="sans-serif" fill="#000000">validate</text><rect filter="url(#fmrkujfvvfjv)" rx="12.5" ry="12.5" width="141" x="11" y="136.6211" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="34.1328"></rect><text lengthAdjust="spacing" x="21" font-size="12" textLength="121" y="158.2227" font-family="sans-serif" fill="#000000">Validate Relationship</text><rect filter="url(#fmrkujfvvfjv)" rx="12.5" ry="12.5" width="155" x="172" y="136.6211" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="34.1328"></rect><text lengthAdjust="spacing" x="182" font-size="12" textLength="135" y="158.2227" font-family="sans-serif" fill="#000000">Automatically Validated</text><polygon filter="url(#fmrkujfvvfjv)" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" points="165.5,176.7539,177.5,188.7539,165.5,200.7539,153.5,188.7539,165.5,176.7539"></polygon><rect filter="url(#fmrkujfvvfjv)" rx="12.5" ry="12.5" width="151" x="90" y="220.7539" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="34.1328"></rect><text lengthAdjust="spacing" x="100" font-size="12" textLength="131" y="242.3555" font-family="sans-serif" fill="#000000">Relationship is created</text><rect filter="url(#fmrkujfvvfjv)" rx="12.5" ry="12.5" width="129" x="101" y="274.8867" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="34.1328"></rect><text lengthAdjust="spacing" x="111" font-size="12" textLength="109" y="296.4883" font-family="sans-serif" fill="#000000">View a relationship</text><line y1="114.6211" x1="106.5" y2="114.6211" style="stroke:#A80036;stroke-width:1.5;" x2="81.5"></line><line y1="114.6211" x1="81.5" y2="136.6211" style="stroke:#A80036;stroke-width:1.5;" x2="81.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="77.5,126.6211,81.5,136.6211,85.5,126.6211,81.5,130.6211"></polygon><line y1="114.6211" x1="224.5" y2="114.6211" style="stroke:#A80036;stroke-width:1.5;" x2="249.5"></line><line y1="114.6211" x1="249.5" y2="136.6211" style="stroke:#A80036;stroke-width:1.5;" x2="249.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="245.5,126.6211,249.5,136.6211,253.5,126.6211,249.5,130.6211"></polygon><line y1="170.7539" x1="81.5" y2="188.7539" style="stroke:#A80036;stroke-width:1.5;" x2="81.5"></line><line y1="188.7539" x1="81.5" y2="188.7539" style="stroke:#A80036;stroke-width:1.5;" x2="153.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="143.5,184.7539,153.5,188.7539,143.5,192.7539,147.5,188.7539"></polygon><line y1="170.7539" x1="249.5" y2="188.7539" style="stroke:#A80036;stroke-width:1.5;" x2="249.5"></line><line y1="188.7539" x1="249.5" y2="188.7539" style="stroke:#A80036;stroke-width:1.5;" x2="177.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="187.5,184.7539,177.5,188.7539,187.5,192.7539,183.5,188.7539"></polygon><line y1="82.6211" x1="165.5" y2="102.6211" style="stroke:#A80036;stroke-width:1.5;" x2="165.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="161.5,92.6211,165.5,102.6211,169.5,92.6211,165.5,96.6211"></polygon><line y1="200.7539" x1="165.5" y2="220.7539" style="stroke:#A80036;stroke-width:1.5;" x2="165.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="161.5,210.7539,165.5,220.7539,169.5,210.7539,165.5,214.7539"></polygon><line y1="254.8867" x1="165.5" y2="274.8867" style="stroke:#A80036;stroke-width:1.5;" x2="165.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="161.5,264.8867,165.5,274.8867,169.5,264.8867,165.5,268.8867"></polygon></g></svg></p>

<h4 id="manage-relationship">Manage Relationship</h4>

<p>&lt;?xml version=”1.0” encoding=”us-ascii” standalone=”no”?&gt;<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 425 274" zoomAndPan="magnify" preserveAspectRatio="none" width="425px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:425px;height:274px;background:#FFFFFF;" version="1.1" height="274px"><defs><filter width="300%" x="-1" y="-1" id="fffk1vqh459fq" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g><text font-weight="bold" lengthAdjust="spacing" x="135.5" font-size="14" textLength="151" y="33.5352" font-family="sans-serif" fill="#000000">Manage Relationship</text><ellipse filter="url(#fffk1vqh459fq)" cx="209.5" cy="57.4883" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><polygon filter="url(#fffk1vqh459fq)" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" points="155,87.4883,264,87.4883,276,99.4883,264,111.4883,155,111.4883,143,99.4883,155,87.4883"></polygon><text lengthAdjust="spacing" x="155" font-size="11" textLength="109" y="103.6455" font-family="sans-serif" fill="#000000">Mange Relationship?</text><rect filter="url(#fffk1vqh459fq)" rx="12.5" ry="12.5" width="233" x="11" y="147.3984" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="34.1328"></rect><text lengthAdjust="spacing" x="21" font-size="12" textLength="213" y="169" font-family="sans-serif" fill="#000000">Manage the lifecycle of a relationship</text><rect filter="url(#fffk1vqh459fq)" rx="12.5" ry="12.5" width="144" x="264" y="147.3984" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="34.1328"></rect><text lengthAdjust="spacing" x="274" font-size="12" textLength="124" y="169" font-family="sans-serif" fill="#000000">Revoke a relationship</text><polygon filter="url(#fffk1vqh459fq)" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" points="209.5,191.5313,209.5,191.5313,221.5,203.5313,209.5,215.5313,209.5,215.5313,197.5,203.5313,209.5,191.5313"></polygon><ellipse filter="url(#fffk1vqh459fq)" cx="209.5" cy="246.5313" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;" fill="#FFFFFF"></ellipse><ellipse cx="209.5" cy="246.5313" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;" fill="#000000"></ellipse><line y1="99.4883" x1="143" y2="99.4883" style="stroke:#A80036;stroke-width:1.5;" x2="127.5"></line><line y1="99.4883" x1="127.5" y2="147.3984" style="stroke:#A80036;stroke-width:1.5;" x2="127.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="123.5,137.3984,127.5,147.3984,131.5,137.3984,127.5,141.3984"></polygon><text lengthAdjust="spacing" x="130.5" font-size="11" textLength="41" y="127.6006" font-family="sans-serif" fill="#000000">Manage</text><line y1="99.4883" x1="276" y2="99.4883" style="stroke:#A80036;stroke-width:1.5;" x2="336"></line><line y1="99.4883" x1="336" y2="147.3984" style="stroke:#A80036;stroke-width:1.5;" x2="336"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="332,137.3984,336,147.3984,340,137.3984,336,141.3984"></polygon><text lengthAdjust="spacing" x="339" font-size="11" textLength="38" y="127.6006" font-family="sans-serif" fill="#000000">Revoke</text><line y1="181.5313" x1="127.5" y2="203.5313" style="stroke:#A80036;stroke-width:1.5;" x2="127.5"></line><line y1="203.5313" x1="127.5" y2="203.5313" style="stroke:#A80036;stroke-width:1.5;" x2="197.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="187.5,199.5313,197.5,203.5313,187.5,207.5313,191.5,203.5313"></polygon><line y1="181.5313" x1="336" y2="203.5313" style="stroke:#A80036;stroke-width:1.5;" x2="336"></line><line y1="203.5313" x1="336" y2="203.5313" style="stroke:#A80036;stroke-width:1.5;" x2="221.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="231.5,199.5313,221.5,203.5313,231.5,207.5313,227.5,203.5313"></polygon><line y1="67.4883" x1="209.5" y2="87.4883" style="stroke:#A80036;stroke-width:1.5;" x2="209.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="205.5,77.4883,209.5,87.4883,213.5,77.4883,209.5,81.4883"></polygon><line y1="215.5313" x1="209.5" y2="235.5313" style="stroke:#A80036;stroke-width:1.5;" x2="209.5"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="205.5,225.5313,209.5,235.5313,213.5,225.5313,209.5,229.5313"></polygon></g></svg></p>

<h3 id="entity-relationship-diagram">Entity Relationship Diagram</h3>

<p>&lt;?xml version=”1.0” encoding=”us-ascii” standalone=”no”?&gt;<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 1748 842" zoomAndPan="magnify" preserveAspectRatio="none" width="1748px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:1748px;height:842px;background:#FFFFFF;" version="1.1" height="842px"><defs><filter width="300%" x="-1" y="-1" id="fcnjz16o5gjxv" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g><text font-weight="bold" lengthAdjust="spacing" x="786.75" font-size="14" textLength="161" y="23.5352" font-family="sans-serif" fill="#000000">National Proxy Service</text>  <!-- class Consent --><g id="elem_Consent"><rect filter="url(#fcnjz16o5gjxv)" codeLine="6" width="792" x="544" y="265.3983" style="stroke:#A80036;stroke-width:1.0;" id="Consent" fill="#FEFECE" height="245.8594"></rect><ellipse cx="907.25" cy="281.3983" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" fill="#ADD1B2"></ellipse><path d="M909.7231,287.5413 Q909.1421,287.8402 908.5029,287.9896 Q907.8638,288.139 907.1582,288.139 Q904.6514,288.139 903.3315,286.4871 Q902.0117,284.8353 902.0117,281.7142 Q902.0117,278.5848 903.3315,276.9329 Q904.6514,275.2811 907.1582,275.2811 Q907.8638,275.2811 908.5112,275.4305 Q909.1587,275.5799 909.7231,275.8788 L909.7231,278.6014 Q909.0923,278.0204 908.4988,277.7506 Q907.9053,277.4808 907.2744,277.4808 Q905.9297,277.4808 905.2449,278.5475 Q904.5601,279.6141 904.5601,281.7142 Q904.5601,283.806 905.2449,284.8726 Q905.9297,285.9393 907.2744,285.9393 Q907.9053,285.9393 908.4988,285.6695 Q909.0923,285.3997 909.7231,284.8187 Z " fill="#000000"></path><text lengthAdjust="spacing" x="927.75" font-size="14" textLength="57" y="286.6893" font-family="sans-serif" fill="#000000">Consent</text><line y1="297.3983" x1="545" y2="297.3983" style="stroke:#A80036;stroke-width:1.0;" x2="1335"></line><ellipse cx="555" cy="311.1424" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="235" y="314.9334" font-family="sans-serif" fill="#000000">status: proposed | active | rejected</text><ellipse cx="555" cy="327.6307" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="79" y="331.4217" font-family="sans-serif" fill="#000000">scope : TBD</text><ellipse cx="555" cy="344.119" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="281" y="347.91" font-family="sans-serif" fill="#000000">category: code to represent Proxy Access</text><ellipse cx="555" cy="360.6073" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="343" y="364.3983" font-family="sans-serif" fill="#000000">policyRule: code to represent type of Proxy Access</text><ellipse cx="555" cy="377.0955" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="179" y="380.8866" font-family="sans-serif" fill="#000000">dateTime: Data of consent</text><ellipse cx="555" cy="393.5838" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="494" y="397.3748" font-family="sans-serif" fill="#000000">patient.identifier: NHSNumber of the subject of the proxy access request</text><ellipse cx="555" cy="410.0721" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="295" y="413.8631" font-family="sans-serif" fill="#000000">performer: who agreed to the proxy access</text><ellipse cx="555" cy="426.5604" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="367" y="430.3514" font-family="sans-serif" fill="#000000">organization: custodian of the consent, NHS England?</text><ellipse cx="555" cy="443.0487" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="150" y="446.8397" font-family="sans-serif" fill="#000000">provision.type: permit</text><line y1="453.7928" x1="545" y2="453.7928" style="stroke:#A80036;stroke-width:1.0;" x2="1335"></line><ellipse cx="555" cy="467.537" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="556" y="471.328" font-family="sans-serif" fill="#000000">source: proxy access request form (ProxyAccessRequest:QuestionnaireResponse)</text><text lengthAdjust="spacing" x="564" font-size="14" textLength="595" y="487.8163" font-family="sans-serif" fill="#000000">provision.period: timeframe this proxy request is valid (and then needs to be reviewed)</text><ellipse cx="555" cy="500.5135" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="564" font-size="14" textLength="766" y="504.3045" font-family="sans-serif" fill="#000000">provision.actor.reference.identifier: NHSNumber of the person making the proxy access request (RelatedPerson)</text></g>  <!-- class RelatedPerson --><g id="elem_RelatedPerson"><rect filter="url(#fcnjz16o5gjxv)" codeLine="21" width="674" x="213" y="572.2583" style="stroke:#A80036;stroke-width:1.0;" id="RelatedPerson" fill="#FEFECE" height="130.4414"></rect><ellipse cx="496.75" cy="588.2583" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" fill="#ADD1B2"></ellipse><path d="M499.2231,594.4013 Q498.6421,594.7002 498.0029,594.8496 Q497.3638,594.999 496.6582,594.999 Q494.1514,594.999 492.8315,593.3471 Q491.5117,591.6953 491.5117,588.5742 Q491.5117,585.4448 492.8315,583.7929 Q494.1514,582.1411 496.6582,582.1411 Q497.3638,582.1411 498.0112,582.2905 Q498.6587,582.4399 499.2231,582.7388 L499.2231,585.4614 Q498.5923,584.8804 497.9988,584.6106 Q497.4053,584.3408 496.7744,584.3408 Q495.4297,584.3408 494.7449,585.4075 Q494.0601,586.4741 494.0601,588.5742 Q494.0601,590.666 494.7449,591.7326 Q495.4297,592.7993 496.7744,592.7993 Q497.4053,592.7993 497.9988,592.5295 Q498.5923,592.2597 499.2231,591.6787 Z " fill="#000000"></path><text lengthAdjust="spacing" x="517.25" font-size="14" textLength="98" y="593.5493" font-family="sans-serif" fill="#000000">RelatedPerson</text><line y1="604.2583" x1="214" y2="604.2583" style="stroke:#A80036;stroke-width:1.0;" x2="886"></line><ellipse cx="224" cy="618.0024" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="233" font-size="14" textLength="494" y="621.7934" font-family="sans-serif" fill="#000000">patient.identifier: NHSNumber of the subject of the proxy access request</text><text lengthAdjust="spacing" x="233" font-size="14" textLength="461" y="638.2817" font-family="sans-serif" fill="#000000">name: may be useful to prevent call to PDS just to retrieve the name</text><ellipse cx="224" cy="650.979" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="233" font-size="14" textLength="486" y="654.77" font-family="sans-serif" fill="#000000">identifier : NHS Number of the person making the proxy access request</text><ellipse cx="224" cy="667.4673" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="233" font-size="14" textLength="217" y="671.2583" font-family="sans-serif" fill="#000000">relationship: mother, father, etc</text><text lengthAdjust="spacing" x="233" font-size="14" textLength="648" y="687.7466" font-family="sans-serif" fill="#000000">extension.consent: Proxy Acccess Request - should not be present when no consent is present</text><line y1="694.6997" x1="214" y2="694.6997" style="stroke:#A80036;stroke-width:1.0;" x2="886"></line></g>  <!-- class Patient --><g id="elem_Patient"><rect filter="url(#fcnjz16o5gjxv)" codeLine="29" width="183" x="458.5" y="763.6983" style="stroke:#A80036;stroke-width:1.0;" id="Patient" fill="#FEFECE" height="64.4883"></rect><ellipse cx="522.25" cy="779.6983" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" fill="#ADD1B2"></ellipse><path d="M524.7231,785.8413 Q524.1421,786.1402 523.5029,786.2896 Q522.8638,786.439 522.1582,786.439 Q519.6514,786.439 518.3315,784.7871 Q517.0117,783.1353 517.0117,780.0142 Q517.0117,776.8848 518.3315,775.2329 Q519.6514,773.5811 522.1582,773.5811 Q522.8638,773.5811 523.5112,773.7305 Q524.1587,773.8799 524.7231,774.1788 L524.7231,776.9014 Q524.0923,776.3204 523.4988,776.0506 Q522.9053,775.7808 522.2744,775.7808 Q520.9297,775.7808 520.2449,776.8475 Q519.5601,777.9141 519.5601,780.0142 Q519.5601,782.106 520.2449,783.1726 Q520.9297,784.2393 522.2744,784.2393 Q522.9053,784.2393 523.4988,783.9695 Q524.0923,783.6997 524.7231,783.1187 Z " fill="#000000"></path><text lengthAdjust="spacing" x="542.75" font-size="14" textLength="47" y="784.9893" font-family="sans-serif" fill="#000000">Patient</text><line y1="795.6983" x1="459.5" y2="795.6983" style="stroke:#A80036;stroke-width:1.0;" x2="640.5"></line><ellipse cx="469.5" cy="809.4424" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="478.5" font-size="14" textLength="157" y="813.2334" font-family="sans-serif" fill="#000000">identifier : NHSNumber</text><line y1="820.1866" x1="459.5" y2="820.1866" style="stroke:#A80036;stroke-width:1.0;" x2="640.5"></line></g><g id="elem_p1"><rect filter="url(#fcnjz16o5gjxv)" width="179" x="184.5" y="773.4583" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="44.9766"></rect><text lengthAdjust="spacing" x="199.5" font-size="14" textLength="149" y="788.9934" font-family="sans-serif" fill="#000000">RelatedPerson:Patient</text><line y1="793.9466" x1="185.5" y2="793.9466" style="stroke:#A80036;stroke-width:1.0;" x2="362.5"></line><ellipse cx="195.5" cy="807.6907" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="204.5" font-size="14" textLength="153" y="811.4817" font-family="sans-serif" fill="#000000">identifier: NHSNumber</text></g><g id="elem_task1"><rect filter="url(#fcnjz16o5gjxv)" width="484" x="698" y="44.4883" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="143.9063"></rect><text lengthAdjust="spacing" x="817.5" font-size="14" textLength="245" y="60.0234" font-family="sans-serif" fill="#000000">ProxyAccessRequestValidation:Task</text><line y1="64.9766" x1="699" y2="64.9766" style="stroke:#A80036;stroke-width:1.0;" x2="1181"></line><text lengthAdjust="spacing" x="718" font-size="14" textLength="310" y="82.5117" font-family="sans-serif" fill="#000000">use _history for a record of the conversations</text><ellipse cx="709" cy="95.209" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="718" font-size="14" textLength="102" y="99" font-family="sans-serif" fill="#000000">focus: Consent</text><ellipse cx="709" cy="111.6973" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="718" font-size="14" textLength="162" y="115.4883" font-family="sans-serif" fill="#000000">requester: NHS England</text><ellipse cx="709" cy="128.1855" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="718" font-size="14" textLength="393" y="131.9766" font-family="sans-serif" fill="#000000">owner: GP, etc who needs to validate the Consent request</text><ellipse cx="709" cy="144.6738" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="718" font-size="14" textLength="327" y="148.4648" font-family="sans-serif" fill="#000000">code: 'validation' of Consent request (code TBD)</text><ellipse cx="709" cy="161.1621" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="718" font-size="14" textLength="458" y="164.9531" font-family="sans-serif" fill="#000000">for: can add NHSNumber of the subject of the proxy access request</text><text lengthAdjust="spacing" x="718" font-size="14" textLength="372" y="181.4414" font-family="sans-serif" fill="#000000">note: use this for communication, i.e. the conversation</text></g><g id="elem_qr1"><rect filter="url(#fcnjz16o5gjxv)" width="439" x="1180.5" y="614.9883" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="44.9766"></rect><text lengthAdjust="spacing" x="1246.5" font-size="14" textLength="307" y="630.5234" font-family="sans-serif" fill="#000000">ProxyAccessRequest:QuestionnaireResponse</text><line y1="635.4766" x1="1181.5" y2="635.4766" style="stroke:#A80036;stroke-width:1.0;" x2="1618.5"></line><ellipse cx="1191.5" cy="649.2207" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="1200.5" font-size="14" textLength="413" y="653.0117" font-family="sans-serif" fill="#000000">questionnaire: url of the ProxyAccessRequestFormDefinition</text></g><g id="elem_q1"><rect filter="url(#fcnjz16o5gjxv)" width="363" x="1371.5" y="365.8383" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="44.9766"></rect><text lengthAdjust="spacing" x="1381" font-size="14" textLength="344" y="381.3734" font-family="sans-serif" fill="#000000">ProxyAccessRequestFormDefinition:Questionnaire</text><line y1="386.3266" x1="1372.5" y2="386.3266" style="stroke:#A80036;stroke-width:1.0;" x2="1733.5"></line><ellipse cx="1382.5" cy="400.0707" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" fill="#000000"></ellipse><text lengthAdjust="spacing" x="1391.5" font-size="14" textLength="337" y="403.8617" font-family="sans-serif" fill="#000000">url: url of the ProxyAccessRequestFormDefinition</text></g><g id="elem_PDSOverlap"><path filter="url(#fcnjz16o5gjxv)" d="M145,375.6783 L145,400.9888 A0,0 0 0 0 145,400.9888 L333.76,400.9888 L491.83,572.0183 L341.76,400.9888 L509,400.9888 A0,0 0 0 0 509,400.9888 L509,385.6783 L499,375.6783 L145,375.6783 A0,0 0 0 0 145,375.6783 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M499,375.6783 L499,385.6783 L509,385.6783 L499,375.6783 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="151" font-size="13" textLength="343" y="393.2466" font-family="sans-serif" fill="#000000">This is essentially the same as PDS but with a Consent</text></g><g id="elem_PDS"><path filter="url(#fcnjz16o5gjxv)" d="M6,624.8283 L6,650.1388 L178,650.1388 L178,634.8283 L168,624.8283 L6,624.8283 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><path d="M168,624.8283 L168,634.8283 L178,634.8283 L168,624.8283 " style="stroke:#A80036;stroke-width:1.0;" fill="#FBFB77"></path><text lengthAdjust="spacing" x="12" font-size="13" textLength="151" y="642.3966" font-family="sans-serif" fill="#000000">This is retrieved via PDS</text></g>  <!-- link Consent to RelatedPerson --><g id="link_Consent_RelatedPerson"><path codeLine="56" d="M728.96,523.0683 C708.84,535.8183 688.95,548.4283 670.15,560.3383 " style="stroke:#A80036;stroke-width:1.0;" id="Consent-RelatedPerson" fill="none"></path><line y1="511.2084" x1="740.2007" y2="517.9676" style="stroke:#A80036;stroke-width:1.0;" x2="744.4802"></line><line y1="512.8132" x1="737.666" y2="519.5724" style="stroke:#A80036;stroke-width:1.0;" x2="741.9455"></line><line y1="516.7277" x1="738.9608" y2="512.4483" style="stroke:#A80036;stroke-width:1.0;" x2="745.72"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#FFFFFF" points="653.41,570.9483,665.7088,554.8629,673.205,566.6869,653.41,570.9483"></polygon><line y1="552.8282" x1="668.9181" y2="564.6522" style="stroke:#A80036;stroke-width:2.0;" x2="676.4143"></line><text lengthAdjust="spacing" x="511.5406" font-size="13" textLength="218" y="531.7781" font-family="sans-serif" fill="#000000">provision.actor.reference.identifier</text><text lengthAdjust="spacing" x="603.1833" font-size="13" textLength="57" y="561.3351" font-family="sans-serif" fill="#000000">identifier</text></g>  <!-- link Consent to Patient --><g id="link_Consent_Patient"><path codeLine="57" d="M956.79,533.0583 C955.9,591.9283 943.82,656.8583 904,702.6983 C872.45,739.0283 754.23,764.6683 662.99,779.5483 " style="stroke:#A80036;stroke-width:1.0;" id="Consent-Patient" fill="none"></path><line y1="521.2081" x1="956.7114" y2="513.2469" style="stroke:#A80036;stroke-width:1.0;" x2="950.6601"></line><line y1="521.2081" x1="956.7114" y2="513.1697" style="stroke:#A80036;stroke-width:1.0;" x2="962.6599"></line><line y1="521.2081" x1="956.7114" y2="513.2083" style="stroke:#A80036;stroke-width:1.0;" x2="956.66"></line><line y1="523.2338" x1="952.7244" y2="523.1824" style="stroke:#A80036;stroke-width:1.0;" x2="960.7242"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#FFFFFF" points="643.41,782.6383,661.0883,772.7652,663.2682,786.5945,643.41,782.6383"></polygon><line y1="772.1736" x1="664.842" y2="786.0028" style="stroke:#A80036;stroke-width:2.0;" x2="667.0219"></line><text lengthAdjust="spacing" x="849.5774" font-size="13" textLength="105" y="531.831" font-family="sans-serif" fill="#000000">patient.identifier</text><text lengthAdjust="spacing" x="649.6344" font-size="13" textLength="57" y="779.1286" font-family="sans-serif" fill="#000000">identifier</text></g>  <!-- link Consent to qr1 --><g id="link_Consent_qr1"><path codeLine="58" d="M1186.2,521.6083 C1243.98,552.6483 1300.38,582.9583 1340.74,604.6383 " style="stroke:#A80036;stroke-width:1.0;" id="Consent-qr1" fill="none"></path><line y1="517.7751" x1="1170.6005" y2="510.7278" style="stroke:#A80036;stroke-width:1.0;" x2="1174.3868"></line><line y1="519.1949" x1="1173.2432" y2="512.1477" style="stroke:#A80036;stroke-width:1.0;" x2="1177.0295"></line><line y1="516.1446" x1="1176.0172" y2="512.3583" style="stroke:#A80036;stroke-width:1.0;" x2="1168.97"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#FFFFFF" points="1358.14,613.9883,1338.0889,611.1679,1344.7114,598.8333,1358.14,613.9883"></polygon><line y1="609.3704" x1="1334.741" y2="597.0358" style="stroke:#A80036;stroke-width:2.0;" x2="1341.3634"></line><text lengthAdjust="spacing" x="1137.5864" font-size="13" textLength="42" y="531.7781" font-family="sans-serif" fill="#000000">source</text><text lengthAdjust="spacing" x="1334.9651" font-size="13" textLength="12" y="604.1838" font-family="sans-serif" fill="#000000">id</text></g>  <!-- link RelatedPerson to p1 --><g id="link_RelatedPerson_p1"><path codeLine="60" d="M417.46,713.6183 C387.11,730.8283 356.41,748.2283 331.24,762.4983 " style="stroke:#A80036;stroke-width:1.0;" id="RelatedPerson-p1" fill="none"></path><line y1="702.2596" x1="429.378" y2="709.2202" style="stroke:#A80036;stroke-width:1.0;" x2="433.3213"></line><line y1="703.7383" x1="426.7678" y2="710.6989" style="stroke:#A80036;stroke-width:1.0;" x2="430.711"></line><line y1="707.7115" x1="427.8693" y2="703.7683" style="stroke:#A80036;stroke-width:1.0;" x2="434.83"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#FFFFFF" points="314.07,772.2283,327.1416,756.7644,334.0499,768.9413,314.07,772.2283"></polygon><line y1="754.8893" x1="330.4468" y2="767.0662" style="stroke:#A80036;stroke-width:2.0;" x2="337.355"></line><text lengthAdjust="spacing" x="364.4702" font-size="13" textLength="57" y="723.1348" font-family="sans-serif" fill="#000000">identifier</text><text lengthAdjust="spacing" x="258.3891" font-size="13" textLength="57" y="762.7664" font-family="sans-serif" fill="#000000">identifier</text></g>  <!-- link RelatedPerson to Patient --><g id="link_RelatedPerson_Patient"><path codeLine="61" d="M550,724.2783 C550,730.2983 550,736.2483 550,741.9983 " style="stroke:#A80036;stroke-width:1.0;" id="RelatedPerson-Patient" fill="none"></path><line y1="712.5383" x1="550" y2="704.5383" style="stroke:#A80036;stroke-width:1.0;" x2="544"></line><line y1="712.5383" x1="550" y2="704.5383" style="stroke:#A80036;stroke-width:1.0;" x2="556"></line><line y1="712.5383" x1="550" y2="704.5383" style="stroke:#A80036;stroke-width:1.0;" x2="550"></line><line y1="714.5383" x1="546" y2="714.5383" style="stroke:#A80036;stroke-width:1.0;" x2="554"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#FFFFFF" points="550,761.9683,543,742.9683,557,742.9683,550,761.9683"></polygon><line y1="739.1683" x1="543" y2="739.1683" style="stroke:#A80036;stroke-width:2.0;" x2="557"></line><text lengthAdjust="spacing" x="439.5859" font-size="13" textLength="105" y="723.1348" font-family="sans-serif" fill="#000000">patient.identifier</text><text lengthAdjust="spacing" x="487.1219" font-size="13" textLength="57" y="752.8361" font-family="sans-serif" fill="#000000">identifier</text></g>  <!-- link q1 to qr1 --><g id="link_q1_qr1"><path codeLine="63" d="M1531.94,423.3383 C1502.77,470.4683 1450.35,555.1483 1421.13,602.3383 " style="stroke:#A80036;stroke-width:1.0;" id="q1-qr1" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="1538.63,412.5483,1530.4925,418.0963,1535.9988,416.8,1537.2952,422.3063,1538.63,412.5483"></polygon><line y1="416.8" x1="1535.9988" y2="423.6033" style="stroke:#A80036;stroke-width:1.0;" x2="1531.78"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="1414.34,613.3083,1420.8988,610.3112,1420.6549,603.1043,1414.0961,606.1013,1414.34,613.3083"></polygon><text lengthAdjust="spacing" x="1517.038" font-size="13" textLength="17" y="431.2822" font-family="sans-serif" fill="#000000">url</text><text lengthAdjust="spacing" x="1428.0409" font-size="13" textLength="86" y="604.422" font-family="sans-serif" fill="#000000">questionnaire</text></g>  <!-- link task1 to Consent --><g id="link_task1_Consent"><path codeLine="65" d="M940,210.0483 C940,220.9783 940,232.3083 940,243.7283 " style="stroke:#A80036;stroke-width:1.0;" id="task1-Consent" fill="none"></path><line y1="194.2183" x1="936" y2="194.2183" style="stroke:#A80036;stroke-width:1.0;" x2="944"></line><line y1="197.2183" x1="936" y2="197.2183" style="stroke:#A80036;stroke-width:1.0;" x2="944"></line><line y1="198.2183" x1="940" y2="190.2183" style="stroke:#A80036;stroke-width:1.0;" x2="940"></line><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#FFFFFF" points="940,263.4783,933,244.4783,947,244.4783,940,263.4783"></polygon><line y1="240.6783" x1="933" y2="240.6783" style="stroke:#A80036;stroke-width:2.0;" x2="947"></line><text lengthAdjust="spacing" x="941" font-size="13" textLength="64" y="231.9666" font-family="sans-serif" fill="#000000">Task.code</text></g>  <!-- link PDS to Patient --><g id="link_PDS_Patient"><path codeLine="70" d="M108.09,650.5483 C127.85,664.8483 162.83,688.5183 196,702.6983 C281.55,739.2783 385.12,764.1983 458.06,778.8283 " style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;" id="PDS-Patient" fill="none"></path></g>  <!-- link PDS to p1 --><g id="link_PDS_p1"><path codeLine="71" d="M105.98,650.4983 C136.53,676.7583 209.61,739.5883 248.56,773.0683 " style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;" id="PDS-p1" fill="none"></path></g></g></svg></p>

<h3 id="create-a-relationship">Create a relationship</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://build.fhir.org/ig/HL7/sdc/index.html">FHIR Structured Data Capture</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://nhsd-confluence.digital.nhs.uk/display/NPA/Create+a+relationship">Confluence Link</a></p>

<p>The documentation above implies the use of a FHIR <code class="language-plaintext highlighter-rouge">RelatedPerson</code> resource. The link below shows the model described on that page using a FHIR <code class="language-plaintext highlighter-rouge">Questionnaire</code> resource.
Note the field <code class="language-plaintext highlighter-rouge">permissions</code> has been omittted. TODO Need to clarify if this is required at this point of the process, this appears to be data from subsequent steps.</p>

<p><a href="Questionnaire-Questionnaire-Proxy-Access-Request.html">Proxy Access Request Form</a></p>

<p>To view this form in a more friendly form, either use the JSON representation with either:</p>

<ul>
  <li><a href="https://lhcformbuilder.nlm.nih.gov/">NLM Form Builder</a> once you are in the main screen, click preview.</li>
  <li>NHS England Data Standards - are working a tool called <code class="language-plaintext highlighter-rouge">Mauro Data Mapper</code> which may become the NHS England equivalent of the NLM product. This may be able to import a FHIR Questionnaire resource.</li>
  <li><a href="https://nhsdigital.github.io/IOPS-Validation-UI/questionnaire">NHS England Interoperabilty Standards Form Viewer - prototype</a> This is a prototype but is connected to NHS England Ontology Server, so both dropdowns work.</li>
</ul>

<div>
<img src="National-Proxy-Request-Form.png" alt="National-Proxy-Request-Form using NHS England Form Viewerr" width="60%"/>
<p>Figure 2 - National Proxy Request Form</p>
<p></p>
</div>

<h3 id="validate-a-relationship">Validate a relationship</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://hl7.org/fhir/R4/workflow.html">FHIR Workflow</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://nhsd-confluence.digital.nhs.uk/display/NPA/Validate+a+relationship">Confluence Link</a></p>

<p>This process occurs after <a href="#create-a-relationship">Create a relationship</a>. The data model on the confluence page looks like it is a match to <a href="https://hl7.org/fhir/R4/consent.html">FHIR Consent</a>. This probably applies to the confluence categories of:</p>
<ul>
  <li>Safeguarding</li>
  <li>Verification</li>
  <li>Consent</li>
</ul>

<p>TODO this should have a data model, could use FHIR Questionnaire for this but NHS England Data Standards would probably be more appropiate. 
Not all the FHIR Consent needs to be mapped to this model. What we probably do need if we are to follow FHIR Workflow  <a href="https://hl7.org/fhir/R4/workflow.html#relationships">Resource Relationships</a></p>

<p>From a workflow perspective we would be asked a GP (or other) to validate the consent, this could be done via the FHIR Task resource</p>

<p>&lt;?xml version=”1.0” encoding=”us-ascii” standalone=”no”?&gt;<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 498 212" zoomAndPan="magnify" preserveAspectRatio="none" width="498px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:498px;height:212px;background:#FFFFFF;" version="1.1" height="212px"><defs><filter width="300%" x="-1" y="-1" id="f1h7uyz9pfe3gq" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g><line y1="40.4883" x1="62" y2="205.7305" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x2="62"></line><line y1="40.4883" x1="466" y2="205.7305" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x2="466"></line><rect filter="url(#f1h7uyz9pfe3gq)" width="110" x="5" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="30.4883"></rect><text lengthAdjust="spacing" x="12" font-size="14" textLength="96" y="25.5352" font-family="sans-serif" fill="#000000">NationalProxy</text><rect filter="url(#f1h7uyz9pfe3gq)" width="32" x="448" y="5" style="stroke:#A80036;stroke-width:1.5;" fill="#FEFECE" height="30.4883"></rect><text lengthAdjust="spacing" x="455" font-size="14" textLength="18" y="25.5352" font-family="sans-serif" fill="#000000">GP</text><rect filter="url(#f1h7uyz9pfe3gq)" width="489" x="0" y="71.1436" style="stroke:#EEEEEE;stroke-width:1.0;" fill="#EEEEEE" height="3"></rect><line y1="71.1436" x1="0" y2="71.1436" style="stroke:#000000;stroke-width:1.0;" x2="489"></line><line y1="74.1436" x1="0" y2="74.1436" style="stroke:#000000;stroke-width:1.0;" x2="489"></line><rect filter="url(#f1h7uyz9pfe3gq)" width="187" x="151" y="60.4883" style="stroke:#000000;stroke-width:2.0;" fill="#EEEEEE" height="23.3105"></rect><text font-weight="bold" lengthAdjust="spacing" x="157" font-size="13" textLength="169" y="77.0566" font-family="sans-serif" fill="#000000">FHIR RESTful API - create</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="454,111.1094,464,115.1094,454,119.1094,458,115.1094"></polygon><line y1="115.1094" x1="62" y2="115.1094" style="stroke:#A80036;stroke-width:1.0;" x2="460"></line><text lengthAdjust="spacing" x="69" font-size="13" textLength="380" y="110.3672" font-family="sans-serif" fill="#000000">POST /Task (Can you check this proxy relationship request?)</text><rect filter="url(#f1h7uyz9pfe3gq)" width="489" x="0" y="143.7646" style="stroke:#EEEEEE;stroke-width:1.0;" fill="#EEEEEE" height="3"></rect><line y1="143.7646" x1="0" y2="143.7646" style="stroke:#000000;stroke-width:1.0;" x2="489"></line><line y1="146.7646" x1="0" y2="146.7646" style="stroke:#000000;stroke-width:1.0;" x2="489"></line><rect filter="url(#f1h7uyz9pfe3gq)" width="193" x="148" y="133.1094" style="stroke:#000000;stroke-width:2.0;" fill="#EEEEEE" height="23.3105"></rect><text font-weight="bold" lengthAdjust="spacing" x="154" font-size="13" textLength="175" y="149.6777" font-family="sans-serif" fill="#000000">FHIR RESTful API - update</text><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="73,183.7305,63,187.7305,73,191.7305,69,187.7305"></polygon><line y1="187.7305" x1="67" y2="187.7305" style="stroke:#A80036;stroke-width:1.0;" x2="465"></line><text lengthAdjust="spacing" x="79" font-size="13" textLength="198" y="182.9883" font-family="sans-serif" fill="#000000">PUT /Task/{id} (Yes that is fine)</text></g></svg></p>

<p>This <code class="language-plaintext highlighter-rouge">conversation</code> results in state changes as shown below. 
Steps labelled <code class="language-plaintext highlighter-rouge">internal provider workflow</code> are for information purposes and do not result in interactions between National Proxy Service and the supplier (e.g. GP). These represent supplier workflow
Note once the supplier (e.g. GP) has changed the <code class="language-plaintext highlighter-rouge">completed</code> the Consent is automatically updated from <code class="language-plaintext highlighter-rouge">proposed</code> to <code class="language-plaintext highlighter-rouge">active</code> and the RelatedPerson entry is visible on the API with the current status.</p>

<p>&lt;?xml version=”1.0” encoding=”us-ascii” standalone=”no”?&gt;<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 723 712" zoomAndPan="magnify" preserveAspectRatio="none" width="723px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:723px;height:712px;background:#FFFFFF;" version="1.1" height="712px"><defs><filter width="300%" x="-1" y="-1" id="fcb0ghmnjxs3x" height="300%"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix result="blurOut2" in="blurOut" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" type="matrix"></feColorMatrix><feOffset result="blurOut3" dx="4.0" dy="4.0" in="blurOut2"></feOffset><feBlend mode="normal" in="SourceGraphic" in2="blurOut3"></feBlend></filter></defs><g>  <!-- cluster Consent --><g id="cluster_Consent"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="369" x="340" y="325" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="168"></rect><path d="M352.5,325 L696.5,325 A12.5,12.5 0 0 1 709,337.5 L709,346.4883 L340,346.4883 L340,337.5 A12.5,12.5 0 0 1 352.5,325 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><path d="M340,346.4883 L709,346.4883 L709,480.5 A12.5,12.5 0 0 1 696.5,493 L352.5,493 A12.5,12.5 0 0 1 340,480.5 L340,346.4883 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><rect rx="12.5" ry="12.5" width="369" x="340" y="325" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="168"></rect><line y1="346.4883" x1="340" y2="346.4883" style="stroke:#A80036;stroke-width:1.0;" x2="709"></line><text lengthAdjust="spacing" x="496" font-size="14" textLength="57" y="342.5352" font-family="sans-serif" fill="#000000">Consent</text></g>  <!-- cluster status --><g id="cluster_status"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="321" x="364" y="368" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="101"></rect><path d="M376.5,368 L672.5,368 A12.5,12.5 0 0 1 685,380.5 L685,389.4883 L364,389.4883 L364,380.5 A12.5,12.5 0 0 1 376.5,368 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><path d="M364,389.4883 L685,389.4883 L685,456.5 A12.5,12.5 0 0 1 672.5,469 L376.5,469 A12.5,12.5 0 0 1 364,456.5 L364,389.4883 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><rect rx="12.5" ry="12.5" width="321" x="364" y="368" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="101"></rect><line y1="389.4883" x1="364" y2="389.4883" style="stroke:#A80036;stroke-width:1.0;" x2="685"></line><text lengthAdjust="spacing" x="504" font-size="14" textLength="41" y="385.5352" font-family="sans-serif" fill="#000000">status</text></g>  <!-- cluster Task --><g id="cluster_Task"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="309" x="7" y="7" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="624.49"></rect><path d="M19.5,7 L303.5,7 A12.5,12.5 0 0 1 316,19.5 L316,28.4883 L7,28.4883 L7,19.5 A12.5,12.5 0 0 1 19.5,7 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><path d="M7,28.4883 L316,28.4883 L316,618.99 A12.5,12.5 0 0 1 303.5,631.49 L19.5,631.49 A12.5,12.5 0 0 1 7,618.99 L7,28.4883 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><rect rx="12.5" ry="12.5" width="309" x="7" y="7" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="624.49"></rect><line y1="28.4883" x1="7" y2="28.4883" style="stroke:#A80036;stroke-width:1.0;" x2="316"></line><text lengthAdjust="spacing" x="145.5" font-size="14" textLength="32" y="24.5352" font-family="sans-serif" fill="#000000">Task</text></g>  <!-- cluster status --><g id="cluster_status"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="261" x="31" y="50" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="557.49"></rect><path d="M43.5,50 L279.5,50 A12.5,12.5 0 0 1 292,62.5 L292,71.4883 L31,71.4883 L31,62.5 A12.5,12.5 0 0 1 43.5,50 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><path d="M31,71.4883 L292,71.4883 L292,594.99 A12.5,12.5 0 0 1 279.5,607.49 L43.5,607.49 A12.5,12.5 0 0 1 31,594.99 L31,71.4883 " style="stroke:#FEFECE;stroke-width:1.0;" fill="#FEFECE"></path><rect rx="12.5" ry="12.5" width="261" x="31" y="50" style="stroke:#A80036;stroke-width:1.0;" fill="none" height="557.49"></rect><line y1="71.4883" x1="31" y2="71.4883" style="stroke:#A80036;stroke-width:1.0;" x2="292"></line><text lengthAdjust="spacing" x="141" font-size="14" textLength="41" y="67.5352" font-family="sans-serif" fill="#000000">status</text></g><g id="Consent.status.proposed"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="86" x="583" y="403" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="429.4883" x1="583" y2="429.4883" style="stroke:#A80036;stroke-width:1.0;" x2="669"></line><text lengthAdjust="spacing" x="593" font-size="14" textLength="66" y="421.5352" font-family="sans-serif" fill="#000000">proposed</text></g><g id="Consent.status.active"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="59" x="379.5" y="403" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="429.4883" x1="379.5" y2="429.4883" style="stroke:#A80036;stroke-width:1.0;" x2="438.5"></line><text lengthAdjust="spacing" x="389.5" font-size="14" textLength="39" y="421.5352" font-family="sans-serif" fill="#000000">active</text></g><g id="Consent.status.rejected"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="75" x="473.5" y="403" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="429.4883" x1="473.5" y2="429.4883" style="stroke:#A80036;stroke-width:1.0;" x2="548.5"></line><text lengthAdjust="spacing" x="483.5" font-size="14" textLength="55" y="421.5352" font-family="sans-serif" fill="#000000">rejected</text></g><g id="Task.status.requested"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="89" x="119.5" y="85" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="111.4883" x1="119.5" y2="111.4883" style="stroke:#A80036;stroke-width:1.0;" x2="208.5"></line><text lengthAdjust="spacing" x="129.5" font-size="14" textLength="69" y="103.5352" font-family="sans-serif" fill="#000000">requested</text></g><g id="Task.status.accepted"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="81" x="84.5" y="212" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="238.4883" x1="84.5" y2="238.4883" style="stroke:#A80036;stroke-width:1.0;" x2="165.5"></line><text lengthAdjust="spacing" x="94.5" font-size="14" textLength="61" y="230.5352" font-family="sans-serif" fill="#000000">accepted</text></g><g id="Task.status.rejected"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="75" x="200.5" y="212" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="238.4883" x1="200.5" y2="238.4883" style="stroke:#A80036;stroke-width:1.0;" x2="275.5"></line><text lengthAdjust="spacing" x="210.5" font-size="14" textLength="55" y="230.5352" font-family="sans-serif" fill="#000000">rejected</text></g><g id="Task.status.inprogress"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="94" x="121" y="403" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="429.4883" x1="121" y2="429.4883" style="stroke:#A80036;stroke-width:1.0;" x2="215"></line><text lengthAdjust="spacing" x="131" font-size="14" textLength="74" y="421.5352" font-family="sans-serif" fill="#000000">inprogress</text></g><g id="Task.status.cancelled"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="84" x="52" y="541.49" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="567.9783" x1="52" y2="567.9783" style="stroke:#A80036;stroke-width:1.0;" x2="136"></line><text lengthAdjust="spacing" x="62" font-size="14" textLength="64" y="560.0252" font-family="sans-serif" fill="#000000">cancelled</text></g><g id="Task.status.completed"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="92" x="175" y="541.49" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="50"></rect><line y1="567.9783" x1="175" y2="567.9783" style="stroke:#A80036;stroke-width:1.0;" x2="267"></line><text lengthAdjust="spacing" x="185" font-size="14" textLength="72" y="560.0252" font-family="sans-serif" fill="#000000">completed</text></g><ellipse filter="url(#fcb0ghmnjxs3x)" cx="563" cy="237" rx="10" ry="10" style="stroke:none;stroke-width:1.0;" fill="#A80036"></ellipse><ellipse filter="url(#fcb0ghmnjxs3x)" cx="412" cy="688.49" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;" fill="none"></ellipse><ellipse cx="412.5" cy="688.99" rx="6" ry="6" style="stroke:none;stroke-width:1.0;" fill="#A80036"></ellipse><g id="RelatedPerson"><rect filter="url(#fcb0ghmnjxs3x)" rx="12.5" ry="12.5" width="161" x="331.5" y="540" style="stroke:#A80036;stroke-width:1.0;" fill="#FEFECE" height="52.9766"></rect><line y1="566.4883" x1="331.5" y2="566.4883" style="stroke:#A80036;stroke-width:1.0;" x2="492.5"></line><text lengthAdjust="spacing" x="363" font-size="14" textLength="98" y="558.5352" font-family="sans-serif" fill="#000000">RelatedPerson</text><text lengthAdjust="spacing" x="336.5" font-size="14" textLength="141" y="585.0234" font-family="sans-serif" fill="#000000">[created or updated]</text></g>  <!-- link *start* to proposed --><g id="link_*start*_proposed"><path d="M565.95,246.86 C574.78,273.35 601.27,352.8 615.94,396.82 " style="stroke:#A80036;stroke-width:1.0;" id="*start*-to-proposed" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="617.45,401.35,618.3898,391.5461,615.8646,396.608,610.8026,394.0828,617.45,401.35"></polygon></g>  <!-- link proposed to requested --><g id="link_proposed_requested"><path d="M629.9,402.68 C635.48,358.52 640.23,264.86 591,212 C540.14,157.4 317.08,127.22 215.15,116.06 " style="stroke:#A80036;stroke-width:1.0;" id="proposed-to-requested" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="210.41,115.55,218.9226,120.5033,215.3805,116.0928,219.791,112.5506,210.41,115.55"></polygon></g>  <!-- link requested to accepted --><g id="link_requested_accepted"><path d="M119.11,135.31 C108.64,143.29 98.85,153.21 93,165 C86.33,178.46 91.48,193.62 99.44,206.46 " style="stroke:#A80036;stroke-width:1.0;" id="requested-to-accepted" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="102.16,210.54,100.4959,200.8327,99.3865,206.3797,93.8395,205.2703,102.16,210.54"></polygon><text lengthAdjust="spacing" x="94" font-size="13" textLength="167" y="178.5684" font-family="sans-serif" fill="#000000">internal provider Workflow</text></g>  <!-- link requested to rejected --><g id="link_requested_rejected"><path d="M208.75,122.89 C230.02,131.03 253.49,144.23 266,165 C273.71,177.81 269.18,193.13 261.7,206.25 " style="stroke:#A80036;stroke-width:1.0;" id="requested-to-rejected" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="259.14,210.44,267.2583,204.8639,261.7565,206.1793,260.4411,200.6775,259.14,210.44"></polygon></g>  <!-- link accepted to inprogress --><g id="link_accepted_inprogress"><path d="M130.53,262.32 C138.34,296.63 152.57,359.2 161.07,396.55 " style="stroke:#A80036;stroke-width:1.0;" id="accepted-to-inprogress" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="162.15,401.3,164.0425,391.6347,161.0351,396.4259,156.2439,393.4185,162.15,401.3"></polygon><text lengthAdjust="spacing" x="141" font-size="13" textLength="167" y="305.5684" font-family="sans-serif" fill="#000000">internal provider Workflow</text></g>  <!-- link accepted to cancelled --><g id="link_accepted_cancelled"><path d="M116.65,262.23 C111.73,277.7 105.9,298.29 103,317 C90.93,394.82 91.49,487.91 92.81,534.99 " style="stroke:#A80036;stroke-width:1.0;" id="accepted-to-cancelled" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="92.96,539.81,96.6753,530.6888,92.8029,534.8125,88.6793,530.9401,92.96,539.81"></polygon></g>  <!-- link inprogress to completed --><g id="link_inprogress_completed"><path d="M177.48,453.4 C186.37,476.31 199.7,510.63 209.26,535.26 " style="stroke:#A80036;stroke-width:1.0;" id="inprogress-to-completed" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="211.06,539.89,211.5202,530.0519,209.245,535.2311,204.0659,532.9559,211.06,539.89"></polygon></g>  <!-- link inprogress to cancelled --><g id="link_inprogress_cancelled"><path d="M154.77,453.4 C142.25,476.5 123.43,511.22 110.05,535.88 " style="stroke:#A80036;stroke-width:1.0;" id="inprogress-to-cancelled" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="107.84,539.97,115.6462,533.9648,110.2233,535.5745,108.6135,530.1516,107.84,539.97"></polygon></g>  <!-- link requested to cancelled --><g id="link_requested_cancelled"><path d="M119.1,132.9 C105.6,141.33 91.78,152.1 82,165 C68.75,182.47 70.37,190.34 67,212 C48.51,330.77 73.94,474.05 87.05,535.32 " style="stroke:#A80036;stroke-width:1.0;" id="requested-to-cancelled" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="88.03,539.86,90.0362,530.2176,86.9726,534.9731,82.2171,531.9095,88.03,539.86"></polygon></g>  <!-- link completed to active --><g id="link_completed_active"><path d="M254.45,541.2 C288.21,516.69 340.1,479.02 374.3,454.2 " style="stroke:#A80036;stroke-width:1.0;" id="completed-to-active" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="377.99,451.52,368.3596,453.5826,373.9476,454.4626,373.0676,460.0506,377.99,451.52"></polygon></g>  <!-- link rejected to rejected --><g id="link_rejected_rejected"><path d="M275.89,243 C323.18,251.01 404.13,270.83 456,317 C479.82,338.2 494.56,372.1 502.72,396.67 " style="stroke:#A80036;stroke-width:1.0;" id="rejected-to-rejected" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="504.19,401.26,505.2801,391.4717,502.6775,396.4942,497.6549,393.8916,504.19,401.26"></polygon></g>  <!-- link cancelled to *end* --><g id="link_cancelled_*end*"><path d="M108.89,591.68 C120.1,607.8 136.95,628.04 157,639.49 C237.41,685.42 353.09,688.54 395.57,687.98 " style="stroke:#A80036;stroke-width:1.0;" id="cancelled-to-*end*" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="400.45,687.89,391.3718,684.0708,395.451,687.99,391.5318,692.0692,400.45,687.89"></polygon></g>  <!-- link active to RelatedPerson --><g id="link_active_RelatedPerson"><path d="M409.54,453.4 C410.03,475.79 410.76,509.08 411.3,533.57 " style="stroke:#A80036;stroke-width:1.0;" id="active-to-RelatedPerson" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="411.4,538.4,415.1933,529.3109,411.2857,533.4013,407.1954,529.4938,411.4,538.4"></polygon></g>  <!-- link rejected to *end* --><g id="link_rejected_*end*"><path d="M518.55,453.35 C529.93,495.05 546.5,581.28 510,639.49 C491.95,668.27 451.11,680.28 428.26,684.9 " style="stroke:#A80036;stroke-width:1.0;" id="rejected-to-*end*" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="423.55,685.78,433.1298,688.0663,428.4657,684.8655,431.6665,680.2013,423.55,685.78"></polygon></g>  <!-- link RelatedPerson to *end* --><g id="link_RelatedPerson_*end*"><path d="M412,593.23 C412,617.01 412,651.59 412,671.58 " style="stroke:#A80036;stroke-width:1.0;" id="RelatedPerson-to-*end*" fill="none"></path><polygon style="stroke:#A80036;stroke-width:1.0;" fill="#A80036" points="412,676.49,416,667.49,412,671.49,408,667.49,412,676.49"></polygon></g></g></svg></p>

<h3 id="view-a-relationship">View a relationship</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
      <th>FHIR Interaction</th>
      <th>FHIR Profile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>n/a</td>
      <td><a href="restful-api.html">RESTful API</a></td>
      <td><a name="l1145">​</a><a href="StructureDefinition-RelatedPerson">UKCore-RelatedPerson</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://nhsd-confluence.digital.nhs.uk/display/NPA/View+a+relationship">Confluence Link</a></p>

<p>See <a href="#view-a-relationship">API Specification</a> below. Note is a potential change here due to the proposed modelling using Consent.</p>

<p>This could mean any of the following</p>

<ul>
  <li>Add _revinclude option on the GET /RelatedPerson API Consent.actor i.e. <code class="language-plaintext highlighter-rouge">GET /RelatedPerson?_revinclude=Consent.actor</code></li>
  <li>Add a GET /Consent/{id} API (really should be provided for <a href="#validate-a-relationship">Validate a relationship</a>) and GET /Consent? with query parameters
    <ul>
      <li>actor (searching for the person making the request)</li>
      <li>patient (search for consents for a patient)</li>
      <li>
        <h3 id="manage-the-lifecycle-of-a-relationship">Manage the lifecycle of a relationship</h3>
      </li>
    </ul>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://hl7.org/fhir/R4/workflow.html">FHIR Workflow</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://nhsd-confluence.digital.nhs.uk/display/NPA/Manage+the+lifecycle+of+a+relationship">Confluence Link</a></p>

<p>Would expect this to be a POST /Task from the GP and would follow a similar pattern to <a href="#validate-a-relationship">Validate a relationship</a></p>

<h3 id="revoke-a-relationship">Revoke a relationship</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://hl7.org/fhir/R4/workflow.html">FHIR Workflow</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://nhsd-confluence.digital.nhs.uk/display/NPA/Revoke+a+relationship">Confluence Link</a></p>

<p>Would expect this to be a POST /Task from the GP to request the relationship is ended and would follow a similar pattern to <a href="#validate-a-relationship">Validate a relationship</a></p>

<h3 id="api-documentation-capabilitystatement">API Documentation (CapabilityStatement)</h3>

<ol>
  <li>
    <p>Copy the JSON version of <a href="CapabilityStatement-Validated-Relationship-Service-Provider.html">CapabilityStatement-Validated-Relationship-Service-Provider</a></p>
  </li>
  <li>
    <p>Paste this into <a href="https://nhsdigital.github.io/IOPS-Validation-UI/api">FHIR Development (Experimental)</a></p>
  </li>
  <li>
    <p>Click ‘Refresh OAS’</p>
  </li>
  <li>
    <p>An OAS representation of the FHIR CapabilityStatement will be rendered on the right hand side of the screen.</p>
  </li>
  <li>
    <p>Click ‘Try it out’ to see an API demonstration.</p>
  </li>
</ol>

<div>
<img src="OAS-Documentation.png" alt="FHIR CapabilityStatement render using OAS/Swagger" width="60%"/>
<p>Figure 3 - FHIR CapabilityStatement render using OAS/Swagger</p>
<p></p>
</div>




</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &copy; 2024+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.england.nhs.uk/">NHS England</a>.  Package uk.nhs.england#0.0.1 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Sat, Feb 3, 2024 10:52+0000">2024-02-03</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
            <div style="color: #333333">

          Links: <a style="color: #81BEF7" href="toc.html">Table of Contents</a> |
                 <a style="color: #81BEF7" href="qa.html">QA Report</a> 
                 <a rel="license" style="color: #81BEF7" href="http://hl7.org/fhir/R4/license.html"><img src="cc0.png" alt="CC0" style="border-style: none;"/></a>
<div>
</div>

</div>
          </span>
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->
  </body>
</html>