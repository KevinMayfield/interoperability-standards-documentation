<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Personal Demographics Service - Interoperability Standards - Discovery v0.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>


    <!--  <script src="assets/nhsuk.js" defer></script> -->

      <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<!-- Project extras
<link
        type="font/woff2"
        href="assets/fonts/FrutigerLTW01-55Roman.woff2"
        rel="preload"
        as="font"
        crossorigin
/>
<link
        type="font/woff2"
        href="assets/fonts/FrutigerLTW01-65Bold.woff2"
        rel="preload"
        as="font"
        crossorigin
/>
<link href="assets/css/nhsuk.css" rel="stylesheet" />
-->

<!-- Bootstrap core CSS overrides to bootstrap-fhir.css -->
<link href="assets/css/nhse.css" rel="stylesheet"/>



    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/favicons/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"9"}
    h3,h4,h5,h6{--heading-prefix:"9"}</style>
    <div id="segment-header" class="segment nhsuk-header">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<!-- Left logo - typically the publisher's logo - project or affiliate -->
        <div id="project-nav">
          <a id="project-logo" no-external="true" href="https://www.england.nhs.uk">
            <img height="61" alt="Project home" src="assets/images/nhse-logo.png"/>
          </a>
        </div>

<!-- Right logo - for example the FHIR logo -->
<!-- Make sure you have authorization to use the FHIR logo -->

        <div id="family-nav">
            <!--
          <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="60" alt="FHIR website" src="assets/images/fhir-logo-www.png"/> </a>
          -->
        </div> 
      

<!-- search icon - if you want -->
<!--
        <div id="hl7-search">
          <a id="hl7-search-lnk" no-external="true" href="http://hl7.org/fhir/search.cfm"><img alt="Search FHIR" src="assets/images/search.png"/></a>
        </div>
-->


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Interoperability Standards - Discovery</span>
            <br/>
            <span style="display:inline-block;">0.0.1 - ci-build



   <img alt="England flag" src="assets/images/GB-ENG.svg" height="16" title="England"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li>
    <a href="toc.html">Table of Contents</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Design
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="background.html">Background</a>
      </li>
      <li>
        <a href="interoperability-standards.html">Interoperability Standards</a>
      </li>
      <li>
        <a href="restful-api.html">RESTful API</a>
      </li>
      <li>
        <a href="documents.html">Documents Interoperability</a>
      </li>
      <li>
        <a href="workflow.html">Workflow</a>
      </li>
      <li>
        <a href="testing.html">Conformance and Testing (FHIR)</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Build
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="validation.html">FHIR Validation</a>
      </li>
      <li>
        <a href="national-proxy-service.html">National Proxy Service</a>
      </li>
      <li>
        <a href="personal-demographics-service.html">Personal Demographics Service</a>
      </li>
      <li>
        <a href="multicast-notification-service.html">Multicast Notification Service</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">FHIR Assets</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Support
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="downloads.html">Downloads</a>
      </li>
    </ul>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Personal Demographics Service</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">Interoperability Standards - Discovery - Local Development build (v0.0.1) built by the FHIR (HL7® FHIR® Standard) Build Tools. See the <a href="https://fhir.nhs.uk/England/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Personal Demographics Service</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#entity-relationship-diagram" id="markdown-toc-entity-relationship-diagram">Entity Relationship Diagram</a></li>
  <li><a href="#search-for-a-patient" id="markdown-toc-search-for-a-patient">Search For a patient</a></li>
  <li><a href="#get-patient-details" id="markdown-toc-get-patient-details">Get patient details</a></li>
  <li><a href="#update-patient-details" id="markdown-toc-update-patient-details">Update patient details</a></li>
  <li><a href="#get-a-patients-related-people" id="markdown-toc-get-a-patients-related-people">Get a patient’s related people</a></li>
  <li><a href="#nhs-number-allocation-new-request" id="markdown-toc-nhs-number-allocation-new-request">NHS Number Allocation (NEW Request)</a></li>
  <li><a href="#api-documentation-capabilitystatement" id="markdown-toc-api-documentation-capabilitystatement">API Documentation (CapabilityStatement)</a></li>
</ul>

</div>
<h3 id="overview">Overview</h3>

<p>See <a href="https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir">Personal Demographics Service - FHIR API</a>
This is API is described using OAS</p>

<h3 id="entity-relationship-diagram">Entity Relationship Diagram</h3>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="590px" preserveAspectRatio="none" style="width:1293px;height:590px;background:#FFFFFF;" version="1.1" viewBox="0 0 1293 590" width="1293px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="217" x="531.25" y="23.5352">Personal Demographic Service</text><!--class Patient--><g id="elem_Patient"><rect codeLine="5" fill="#F1F1F1" height="212.8828" id="Patient" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185" x="626" y="370.2183" /><ellipse cx="690.75" cy="386.2183" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" /><path d="M693.2231,392.3613 Q692.6421,392.6602 692.0029,392.8096 Q691.3638,392.959 690.6582,392.959 Q688.1514,392.959 686.8315,391.3071 Q685.5117,389.6553 685.5117,386.5342 Q685.5117,383.4048 686.8315,381.7529 Q688.1514,380.1011 690.6582,380.1011 Q691.3638,380.1011 692.0112,380.2505 Q692.6587,380.3999 693.2231,380.6988 L693.2231,383.4214 Q692.5923,382.8404 691.9988,382.5706 Q691.4053,382.3008 690.7744,382.3008 Q689.4297,382.3008 688.7449,383.3675 Q688.0601,384.4341 688.0601,386.5342 Q688.0601,388.626 688.7449,389.6926 Q689.4297,390.7593 690.7744,390.7593 Q691.4053,390.7593 691.9988,390.4895 Q692.5923,390.2197 693.2231,389.6387 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="711.25" y="391.5093">Patient</text><line style="stroke:#181818;stroke-width:0.5;" x1="627" x2="810" y1="402.2183" y2="402.2183" /><ellipse cx="637" cy="415.9624" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="646" y="419.7534">identifier : NHSNumber</text><ellipse cx="637" cy="432.4507" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="646" y="436.2417">name</text><ellipse cx="637" cy="448.939" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="646" y="452.73">address</text><ellipse cx="637" cy="465.4273" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="646" y="469.2183">telecom</text><ellipse cx="637" cy="481.9155" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="646" y="485.7066">gender</text><ellipse cx="637" cy="498.4038" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="646" y="502.1948">birthDate</text><ellipse cx="637" cy="514.8921" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="646" y="518.6831">deceasedDateTime</text><ellipse cx="637" cy="531.3804" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="646" y="535.1714">contact</text><ellipse cx="637" cy="547.8687" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="646" y="551.6597">generalPractitioner</text><ellipse cx="637" cy="564.357" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="646" y="568.148">managingOrganization</text><line style="stroke:#181818;stroke-width:0.5;" x1="627" x2="810" y1="575.1011" y2="575.1011" /></g><!--class RelatedPerson--><g id="elem_RelatedPerson"><rect codeLine="18" fill="#F1F1F1" height="163.418" id="RelatedPerson" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="379" x="530" y="129.7983" /><ellipse cx="666.25" cy="145.7983" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" /><path d="M668.7231,151.9413 Q668.1421,152.2402 667.5029,152.3896 Q666.8638,152.539 666.1582,152.539 Q663.6514,152.539 662.3315,150.8871 Q661.0117,149.2353 661.0117,146.1142 Q661.0117,142.9848 662.3315,141.3329 Q663.6514,139.6811 666.1582,139.6811 Q666.8638,139.6811 667.5112,139.8305 Q668.1587,139.9799 668.7231,140.2788 L668.7231,143.0014 Q668.0923,142.4204 667.4988,142.1506 Q666.9053,141.8808 666.2744,141.8808 Q664.9297,141.8808 664.2449,142.9475 Q663.5601,144.0141 663.5601,146.1142 Q663.5601,148.206 664.2449,149.2726 Q664.9297,150.3393 666.2744,150.3393 Q666.9053,150.3393 667.4988,150.0695 Q668.0923,149.7997 668.7231,149.2187 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="686.75" y="151.0893">RelatedPerson</text><line style="stroke:#181818;stroke-width:0.5;" x1="531" x2="908" y1="161.7983" y2="161.7983" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="550" y="179.3334">identifier : not present</text><ellipse cx="541" cy="192.0307" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="550" y="195.8217">name</text><ellipse cx="541" cy="208.519" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="550" y="212.31">address</text><ellipse cx="541" cy="225.0073" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="550" y="228.7983">telecom</text><ellipse cx="541" cy="241.4955" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="550" y="245.2866">gender</text><ellipse cx="541" cy="257.9838" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="550" y="261.7748">patient.identifier: NHSNumber of the related person</text><ellipse cx="541" cy="274.4721" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="550" y="278.2631">period</text><line style="stroke:#181818;stroke-width:0.5;" x1="531" x2="908" y1="285.2163" y2="285.2163" /></g><!--class PharmacyPreferences--><g id="elem_PharmacyPreferences"><rect codeLine="28" fill="#F1F1F1" height="97.4648" id="PharmacyPreferences" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="342" x="944.5" y="162.7783" /><ellipse cx="1038.25" cy="178.7783" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" /><path d="M1040.7231,184.9213 Q1040.1421,185.2202 1039.5029,185.3696 Q1038.8638,185.519 1038.1582,185.519 Q1035.6514,185.519 1034.3315,183.8671 Q1033.0117,182.2153 1033.0117,179.0942 Q1033.0117,175.9648 1034.3315,174.3129 Q1035.6514,172.6611 1038.1582,172.6611 Q1038.8638,172.6611 1039.5112,172.8105 Q1040.1587,172.9599 1040.7231,173.2588 L1040.7231,175.9814 Q1040.0923,175.4004 1039.4988,175.1306 Q1038.9053,174.8608 1038.2744,174.8608 Q1036.9297,174.8608 1036.2449,175.9275 Q1035.5601,176.9941 1035.5601,179.0942 Q1035.5601,181.186 1036.2449,182.2526 Q1036.9297,183.3193 1038.2744,183.3193 Q1038.9053,183.3193 1039.4988,183.0495 Q1040.0923,182.7797 1040.7231,182.1987 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1058.75" y="184.0693">PharmacyPreferences</text><line style="stroke:#181818;stroke-width:0.5;" x1="945.5" x2="1285.5" y1="194.7783" y2="194.7783" /><ellipse cx="955.5" cy="208.5224" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="964.5" y="212.3134">extension.nominatedPharmacy</text><ellipse cx="955.5" cy="225.0107" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259" x="964.5" y="228.8017">extension.dispensingDoctorPharmacy</text><ellipse cx="955.5" cy="241.499" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316" x="964.5" y="245.29">extension.medicalApplianceSupplierPharmacy</text><line style="stroke:#181818;stroke-width:0.5;" x1="945.5" x2="1285.5" y1="252.2431" y2="252.2431" /></g><g id="elem_PDS"><path d="M6,43.4883 L6,68.7988 L987,68.7988 L987,53.4883 L977,43.4883 L6,43.4883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M977,43.4883 L977,53.4883 L987,53.4883 L977,43.4883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="960" x="12" y="61.0566">PDS may have redefined the definition RelatedPerson.patient.identifier from FHIR definition, it probably should be using RelatedPerson.identifier instead.</text></g><!--link RelatedPerson to Patient--><g id="link_RelatedPerson_Patient"><path codeLine="34" d="M651.96,312.8483 C650.68,316.2883 649.52,319.7483 648.5,323.2183 C646.04,331.6183 645.12,340.1583 645.42,348.6783 " fill="none" id="RelatedPerson-Patient" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="656.6864" x2="654.4187" y1="302.14" y2="292.4006" /><line style="stroke:#181818;stroke-width:1.0;" x1="656.6864" x2="665.4013" y1="302.14" y2="297.236" /><line style="stroke:#181818;stroke-width:1.0;" x1="656.6864" x2="659.91" y1="302.14" y2="294.8183" /><line style="stroke:#181818;stroke-width:1.0;" x1="652.2196" x2="659.5413" y1="302.3587" y2="305.5823" /><polygon fill="#FFFFFF" points="648.26,368.2283,638.593,350.4364,652.4466,348.4174,648.26,368.2283" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:2.0;" x1="638.045" x2="651.8986" y1="346.6762" y2="344.6571" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="649.5" y="336.7866">Related person</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="545.9397" y="313.6946">patient.identifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="584.85" y="359.6187">identifier</text></g><!--link RelatedPerson to Patient--><g id="link_RelatedPerson_Patient"><path codeLine="35" d="M746.29,314.5483 C746.74,317.4583 747.14,320.3583 747.5,323.2183 C748.53,331.4783 748.89,339.9583 748.72,348.4983 " fill="none" id="RelatedPerson-Patient-1" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="744.1757" x2="736.8288" y1="303.0466" y2="296.2625" /><line style="stroke:#181818;stroke-width:1.0;" x1="744.1757" x2="748.6312" y1="303.0466" y2="294.094" /><line style="stroke:#181818;stroke-width:1.0;" x1="744.1757" x2="742.73" y1="303.0466" y2="295.1783" /><ellipse cx="745.2599" cy="308.9478" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#FFFFFF" points="747.41,368.2183,741.6737,348.7994,755.6434,349.7193,747.41,368.2183" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:2.0;" x1="741.9234" x2="755.8931" y1="345.0076" y2="345.9276" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="749.5" y="336.7866">The Patient/RelatedPerson linkage</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="685.0012" y="313.6962">identifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="690.3308" y="359.6187">identifier</text></g><!--link PharmacyPreferences to Patient--><g id="link_PharmacyPreferences_Patient"><path codeLine="36" d="M1061.37,266.9083 C1035.93,290.9383 1004.43,318.5883 973.5,340.2183 C925.35,373.8983 867.83,405.1283 819.62,429.0983 " fill="none" id="PharmacyPreferences-Patient" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1058.9779" x2="1066.95" y1="269.1776" y2="261.5983" /><ellipse cx="1058.9779" cy="269.1776" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1061.2949" x2="1066.8072" y1="261.4555" y2="267.2533" /><line style="stroke:#181818;stroke-width:1.0;" x1="818.0579" x2="814.5146" y1="434.3228" y2="427.1504" /><line style="stroke:#181818;stroke-width:1.0;" x1="820.7476" x2="817.2042" y1="432.9941" y2="425.8216" /><line style="stroke:#181818;stroke-width:1.0;" x1="819.8725" x2="812.7" y1="428.9649" y2="432.5083" /></g><!--link PDS to RelatedPerson--><g id="link_PDS_RelatedPerson"><path codeLine="40" d="M514,69.1783 C533.61,82.6683 567.19,105.7583 601.58,129.4083 " fill="none" id="PDS-RelatedPerson" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;" /></g><!--link PDS to Patient--><g id="link_PDS_Patient"><path codeLine="41" d="M494.27,69.2483 C488.19,105.4983 474.27,215.4283 512.5,293.2183 C537.47,344.0183 583.46,386.8883 625.67,418.2683 " fill="none" id="PDS-Patient" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;" /></g></g></svg></figure>
<p><br clear="all" /></p>

<h3 id="search-for-a-patient">Search For a patient</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
      <th>FHIR Interaction</th>
      <th>FHIR Profile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>For background info, not followed by PDS <a href="https://profiles.ihe.net/ITI/PDQm/index.html">Patient Demographics Query for mobile (PDQm)</a></td>
      <td><a href="restful-api.html">RESTful API</a></td>
      <td><a href="StructureDefinition-PatientPDS.html">PatientPDS</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir#get-/Patient">Search For a patient</a></p>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="202px" preserveAspectRatio="none" style="width:377px;height:202px;background:#FFFFFF;" version="1.1" viewBox="0 0 377 202" width="377px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="141" x="114" y="28.5352">Search for a patient</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="62" x2="62" y1="73.9766" y2="195.9082" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="314" x2="314" y1="73.9766" y2="195.9082" /><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="5" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="12" y="63.0234">PDS Consumer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="264" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="271" y="63.0234">PDS Supplier</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="370" x="0" y="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="370" y1="104.6318" y2="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="370" y1="107.6318" y2="107.6318" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="190" x="90" y="93.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="172" x="96" y="110.5449">FHIR RESTful API - search</text><polygon fill="#181818" points="302.5,144.5977,312.5,148.5977,302.5,152.5977,306.5,148.5977" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="62.5" x2="308.5" y1="148.5977" y2="148.5977" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="69.5" y="143.8555">GET /Patient</text><polygon fill="#181818" points="73.5,173.9082,63.5,177.9082,73.5,181.9082,69.5,177.9082" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="313.5" y1="177.9082" y2="177.9082" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="79.5" y="173.166">response (collection of FHIR Patient)</text></g></svg></figure>
<p><br clear="all" /></p>

<h3 id="get-patient-details">Get patient details</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
      <th>FHIR Interaction</th>
      <th>FHIR Profile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>n/a</td>
      <td><a href="restful-api.html">RESTful API</a></td>
      <td><a href="StructureDefinition-PatientPDS.html">PatientPDS</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir#get-/Patient/-id-">Get patient details</a></p>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="299px" preserveAspectRatio="none" style="width:585px;height:299px;background:#FFFFFF;" version="1.1" viewBox="0 0 585 299" width="585px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="134" x="221.5" y="28.5352">Get patient details</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="204" x2="204" y1="73.9766" y2="292.4609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="373" x2="373" y1="73.9766" y2="292.4609" /><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="147" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="154" y="63.0234">PDS Consumer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="323" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="330" y="63.0234">PDS Supplier</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="578" x="0" y="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="578" y1="104.6318" y2="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="578" y1="107.6318" y2="107.6318" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="176" x="201" y="93.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="158" x="207" y="110.5449">FHIR RESTful API - read</text><polygon fill="#181818" points="361.5,144.5977,371.5,148.5977,361.5,152.5977,365.5,148.5977" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="204.5" x2="367.5" y1="148.5977" y2="148.5977" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="211.5" y="143.8555">GET /Patient/{id}</text><path d="M5,161.5977 L5,247.5977 L573,247.5977 L573,171.5977 L563,161.5977 L5,161.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M563,161.5977 L563,171.5977 L573,171.5977 L563,161.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="11" y="179.166">{id} in FHIR is transient, so it can change.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="194.4766">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="539" x="15" y="209.7871">it may be better to refactor this as a search parameter e.g. GET /Patient?identifier={id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="225.0977">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="449" x="15" y="240.4082">This would also be consistent with IHE PDQm and UK Core FHIR Access</text><polygon fill="#181818" points="215.5,270.4609,205.5,274.4609,215.5,278.4609,211.5,274.4609" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="209.5" x2="372.5" y1="274.4609" y2="274.4609" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="221.5" y="269.7188">response (FHIR Patient)</text></g></svg></figure>
<p><br clear="all" /></p>

<h3 id="update-patient-details">Update patient details</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
      <th>FHIR Interaction</th>
      <th>FHIR Profile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>n/a</td>
      <td><a href="https://datatracker.ietf.org/doc/html/rfc6902">JSON Patch</a> - Not FHIR Patch</td>
      <td><a href="StructureDefinition-PatientPDS.html">PatientPDS</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir#patch-/Patient/-id-">Update patient details</a></p>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="202px" preserveAspectRatio="none" style="width:294px;height:202px;background:#FFFFFF;" version="1.1" viewBox="0 0 294 202" width="294px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160" x="63" y="28.5352">Update patient details</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="62" x2="62" y1="73.9766" y2="195.9082" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="231" x2="231" y1="73.9766" y2="195.9082" /><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="5" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="12" y="63.0234">PDS Consumer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="181" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="188" y="63.0234">PDS Supplier</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="287" x="0" y="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="287" y1="104.6318" y2="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="287" y1="107.6318" y2="107.6318" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="92" x="97.5" y="93.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74" x="103.5" y="110.5449">JSON Patch</text><polygon fill="#181818" points="219.5,144.5977,229.5,148.5977,219.5,152.5977,223.5,148.5977" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="62.5" x2="225.5" y1="148.5977" y2="148.5977" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="69.5" y="143.8555">PATCH /Patient/{id}</text><polygon fill="#181818" points="73.5,173.9082,63.5,177.9082,73.5,181.9082,69.5,177.9082" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="230.5" y1="177.9082" y2="177.9082" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="79.5" y="173.166">response (FHIR Patient)</text></g></svg></figure>
<p><br clear="all" /></p>

<h3 id="get-a-patients-related-people">Get a patient’s related people</h3>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
      <th>FHIR Interaction</th>
      <th>FHIR Profile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>n/a</td>
      <td><a href="restful-api.html">RESTful API</a></td>
      <td><a href="StructureDefinition-RelatedPerson.html">UKCore-RelatedPerson</a></td>
    </tr>
  </tbody>
</table>

<p><a href="https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir#get-/Patient/-id-/RelatedPerson">Get a patient’s related people</a></p>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="238px" preserveAspectRatio="none" style="width:479px;height:238px;background:#FFFFFF;" version="1.1" viewBox="0 0 479 238" width="479px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="212" x="129.5" y="28.5352">Get a patient's related people</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="87" x2="87" y1="73.9766" y2="231.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="384" x2="384" y1="73.9766" y2="231.2188" /><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="30" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="37" y="63.0234">PDS Consumer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="334" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="341" y="63.0234">PDS Supplier</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="472" x="0" y="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="472" y1="104.6318" y2="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="472" y1="107.6318" y2="107.6318" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="190" x="141" y="93.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="172" x="147" y="110.5449">FHIR RESTful API - search</text><polygon fill="#181818" points="372.5,144.5977,382.5,148.5977,372.5,152.5977,376.5,148.5977" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="378.5" y1="148.5977" y2="148.5977" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="94.5" y="143.8555">GET /Patient/{id}/RelatedPerson</text><path d="M5,161.5977 L5,186.5977 L467,186.5977 L467,171.5977 L457,161.5977 L5,161.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M457,161.5977 L457,171.5977 L467,171.5977 L457,161.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="441" x="11" y="179.166">believed to be equivalent of GET /RelatedPerson?patient:identifier={id}</text><polygon fill="#181818" points="98.5,209.2188,88.5,213.2188,98.5,217.2188,94.5,213.2188" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="92.5" x2="383.5" y1="213.2188" y2="213.2188" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="104.5" y="208.4766">response (collection of FHIR RelatedPerson)</text></g></svg></figure>
<p><br clear="all" /></p>

<h3 id="nhs-number-allocation-new-request">NHS Number Allocation (NEW Request)</h3>

<p><a href="https://nhsd-confluence.digital.nhs.uk/display/DEMGRPH/PDS+FHIR+-+NHS+Number+Allocation+Analysis">Confluence NHS Number Allocation</a></p>

<table>
  <thead>
    <tr>
      <th>FHIR/IHE Framework</th>
      <th>FHIR Interaction</th>
      <th>FHIR Profile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>For background info, <a href="https://profiles.ihe.net/ITI/PIXm/index.html">Patient Identifier Cross-referencing for mobile (PIXm))</a></td>
      <td><a href="restful-api.html">RESTful API</a></td>
      <td><a href="StructureDefinition-PatientPDSNHSNumberAllocation.html">PatientPDSNHSNumberAllocation</a> API has specific rules for content for supplier <strong>new profile required</strong></td>
    </tr>
  </tbody>
</table>

<h4 id="activity-diagram">Activity Diagram</h4>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="329px" preserveAspectRatio="none" style="width:368px;height:329px;background:#FFFFFF;" version="1.1" viewBox="0 0 368 329" width="368px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="170" x="97.5" y="33.5352">NHS Number Allocation</text><ellipse cx="194.5" cy="57.4883" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;" /><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="92" y="87.4883" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="185" x="102" y="109.0898">NHS Number Allocation Request</text><polygon fill="#F1F1F1" points="122,141.6211,267,141.6211,279,153.6211,267,165.6211,122,165.6211,110,153.6211,122,141.6211" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="122" y="157.7783">Existing PDS record found?</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="11" y="208.5762" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="21" y="230.1777">Response with error code</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="231" y="208.5762" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="241" y="230.1777">Create PDS record</text><polygon fill="#F1F1F1" points="194.5,252.709,194.5,252.709,206.5,264.709,194.5,276.709,194.5,276.709,182.5,264.709,194.5,252.709" style="stroke:#181818;stroke-width:0.5;" /><ellipse cx="194.5" cy="307.709" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;" /><ellipse cx="194.5" cy="307.709" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="194.5" y1="67.4883" y2="87.4883" /><polygon fill="#181818" points="190.5,77.4883,194.5,87.4883,198.5,77.4883,194.5,81.4883" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="110" x2="95" y1="153.6211" y2="153.6211" /><line style="stroke:#181818;stroke-width:1.0;" x1="95" x2="95" y1="153.6211" y2="208.5762" /><polygon fill="#181818" points="91,198.5762,95,208.5762,99,198.5762,95,202.5762" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="98" y="187.0762">Found</text><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="294" y1="153.6211" y2="153.6211" /><line style="stroke:#181818;stroke-width:1.0;" x1="294" x2="294" y1="153.6211" y2="208.5762" /><polygon fill="#181818" points="290,198.5762,294,208.5762,298,198.5762,294,202.5762" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="297" y="187.0762">Not found</text><line style="stroke:#181818;stroke-width:1.0;" x1="95" x2="95" y1="242.709" y2="264.709" /><line style="stroke:#181818;stroke-width:1.0;" x1="95" x2="182.5" y1="264.709" y2="264.709" /><polygon fill="#181818" points="172.5,260.709,182.5,264.709,172.5,268.709,176.5,264.709" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="294" x2="294" y1="242.709" y2="264.709" /><line style="stroke:#181818;stroke-width:1.0;" x1="294" x2="206.5" y1="264.709" y2="264.709" /><polygon fill="#181818" points="216.5,260.709,206.5,264.709,216.5,268.709,212.5,264.709" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="194.5" y1="121.6211" y2="141.6211" /><polygon fill="#181818" points="190.5,131.6211,194.5,141.6211,198.5,131.6211,194.5,135.6211" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="194.5" y1="276.709" y2="296.709" /><polygon fill="#181818" points="190.5,286.709,194.5,296.709,198.5,286.709,194.5,290.709" style="stroke:#181818;stroke-width:1.0;" /></g></svg></figure>
<p><br clear="all" /></p>

<h4 id="sequence-diagram">Sequence Diagram</h4>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="339px" preserveAspectRatio="none" style="width:434px;height:339px;background:#FFFFFF;" version="1.1" viewBox="0 0 434 339" width="434px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="168" x="129" y="28.5352">NHS Number allocation</text><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="407" x="10" y="224.8398" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="73.9766" y2="332.7266" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="356" x2="356" y1="73.9766" y2="332.7266" /><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="20" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="27" y="63.0234">PDS Consumer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="306" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="313" y="63.0234">PDS Supplier</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="427" x="0" y="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="427" y1="104.6318" y2="104.6318" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="427" y1="107.6318" y2="107.6318" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="187" x="120" y="93.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="169" x="126" y="110.5449">FHIR RESTful API - create</text><polygon fill="#181818" points="344.5,205.8398,354.5,209.8398,344.5,213.8398,348.5,209.8398" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="350.5" y1="209.8398" y2="209.8398" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="84.5" y="143.8555">NHS Number allocation request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="84.5" y="159.166">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="88.5" y="174.4766">Patient Identity Feed FHIR [ITI-104]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="84.5" y="189.7871">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="88.5" y="205.0977">PUT /Patient</text><path d="M10,224.8398 L72,224.8398 L72,232.1504 L62,242.1504 L10,242.1504 L10,224.8398 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="407" x="10" y="224.8398" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="238.4082">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="41" x="87" y="237.4746">[found]</text><polygon fill="#181818" points="88.5,259.4609,78.5,263.4609,88.5,267.4609,84.5,263.4609" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="355.5" y1="263.4609" y2="263.4609" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="94.5" y="258.7188">error response (FHIR OperationOutcome)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="417" y1="272.4609" y2="272.4609" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="63" x="15" y="283.0957">[not found]</text><polygon fill="#181818" points="88.5,303.7266,78.5,307.7266,88.5,311.7266,84.5,307.7266" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="355.5" y1="307.7266" y2="307.7266" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="94.5" y="302.9844">response (FHIR Patient)</text></g></svg></figure>
<p><br clear="all" /></p>

<h3 id="api-documentation-capabilitystatement">API Documentation (CapabilityStatement)</h3>

<ol>
  <li>
    <p>Copy the JSON version of <a href="CapabilityStatement-Personal-Demographics-Service-Provider.html">CapabilityStatement-Personal-Demographics-Service-Provider</a></p>
  </li>
  <li>
    <p>Paste this into <a href="https://nhsdigital.github.io/IOPS-Validation-UI/api">FHIR Development (Experimental)</a></p>
  </li>
  <li>
    <p>Click ‘Refresh OAS’</p>
  </li>
  <li>
    <p>An OAS representation of the FHIR CapabilityStatement will be rendered on the right hand side of the screen.</p>
  </li>
  <li>
    <p>Click ‘Try it out’ to see an API demonstration.</p>
  </li>
</ol>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2024+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.england.nhs.uk/">NHS England</a>.  Package uk.nhs.england#0.0.1 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Sat, Feb 3, 2024 12:20+0000">2024-02-03</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
            <div style="color: #333333" >

          Links: <a style="color: #81BEF7" href="toc.html">Table of Contents</a> |
                 <a style="color: #81BEF7" href="qa.html">QA Report</a> 
                 <a style="color: #81BEF7" rel="license" href="http://hl7.org/fhir/R4/license.html"><img style="border-style: none;" alt="CC0" src="cc0.png"/></a>
<div>
</div>

</div>
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

