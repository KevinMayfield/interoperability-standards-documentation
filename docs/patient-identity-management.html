<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Patient Identity Management - Health Administration Interoperability Standards - Skunkworks v0.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>


    <!--  <script src="assets/nhsuk.js" defer></script> -->

      <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<!-- Project extras
<link
        type="font/woff2"
        href="assets/fonts/FrutigerLTW01-55Roman.woff2"
        rel="preload"
        as="font"
        crossorigin
/>
<link
        type="font/woff2"
        href="assets/fonts/FrutigerLTW01-65Bold.woff2"
        rel="preload"
        as="font"
        crossorigin
/>
<link href="assets/css/nhsuk.css" rel="stylesheet" />
-->

<!-- Bootstrap core CSS overrides to bootstrap-fhir.css -->
<link href="assets/css/nhse.css" rel="stylesheet"/>



    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/favicons/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"17"}
    h3,h4,h5,h6{--heading-prefix:"17"}</style>
    <div id="segment-header" class="segment nhsuk-header">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<!-- Left logo - typically the publisher's logo - project or affiliate -->
        <div id="project-nav">
          <a id="project-logo" no-external="true" href="https://www.england.nhs.uk">
            <img height="61" alt="Project home" src="assets/images/skunk.png"/>
          </a>
        </div>

<!-- Right logo - for example the FHIR logo -->
<!-- Make sure you have authorization to use the FHIR logo -->

        <div id="family-nav">
            <!--
          <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="60" alt="FHIR website" src="assets/images/fhir-logo-www.png"/> </a>
          -->
        </div> 
      

<!-- search icon - if you want -->
<!--
        <div id="hl7-search">
          <a id="hl7-search-lnk" no-external="true" href="http://hl7.org/fhir/search.cfm"><img alt="Search FHIR" src="assets/images/search.png"/></a>
        </div>
-->


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Health Administration Interoperability Standards - Skunkworks</span>
            <br/>
            <span style="display:inline-block;">0.0.1 - ci-build



   <img alt="England flag" src="assets/images/GB-ENG.svg" height="16" title="England"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li>
    <a href="toc.html">Table of Contents</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Documentation
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="background.html">Background</a>
      </li>
      <li>
        <a href="interoperability-standards.html">Interoperability Standards</a>
      </li>
      <li>
        <a href="testing.html">Conformance and Testing (FHIR)</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Design
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="administration-module.html">Administration</a>
      </li>
      <li>
        <a href="validation.html">FHIR Validation</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Build
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="national-proxy-service.html">National Proxy Service</a>
      </li>
      <li>
        <a href="personal-demographics-service.html">NHS Number Allocation and PDS</a>
      </li>
      <li>
        <a href="patient-encounter-management.html">Patient Encounter Management</a>
      </li>
      <li>
        <a href="patient-demographics-query.html">Patient Demographics Query</a>
      </li>
      <li>
        <a href="patient-identity-management.html">Patient Identity Management</a>
      </li>
      <li>
        <a href="booking.html">Booking</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">FHIR Assets</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Support
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="downloads.html">Downloads</a>
      </li>
    </ul>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Patient Identity Management</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">Health Administration Interoperability Standards - Skunkworks - Local Development build (v0.0.1) built by the FHIR (HL7® FHIR® Standard) Build Tools. See the <a href="https://fhir.nhs.uk/England/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Patient Identity Management</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#references" id="markdown-toc-references">References</a></li>
  <li><a href="#introduction---hl7-v2-and-ihe-event-notifications" id="markdown-toc-introduction---hl7-v2-and-ihe-event-notifications">Introduction - HL7 v2 and IHE Event Notifications</a></li>
  <li><a href="#hl7-v2-adt_a04-example-converted-to-hl7-fhir" id="markdown-toc-hl7-v2-adt_a04-example-converted-to-hl7-fhir">HL7 v2 ADT_A04 Example converted to HL7 FHIR</a></li>
  <li><a href="#hl7-fhir-and-ihe-modernisation" id="markdown-toc-hl7-fhir-and-ihe-modernisation">HL7 FHIR and IHE Modernisation</a></li>
  <li><a href="#hl7-fhir-and-ihe-events-notifications-via-pubsub" id="markdown-toc-hl7-fhir-and-ihe-events-notifications-via-pubsub">HL7 FHIR and IHE Events Notifications via Pub/Sub</a></li>
</ul>

</div>
<p>The scope of this proposal is national, regional, NHS Trust and supplier.</p>

<h3 id="references">References</h3>

<ul>
  <li><a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-5.html">IHE Patient Identifier Cross-referencing (PIX)</a></li>
  <li><a href="https://profiles.ihe.net/ITI/PIXm/index.html">IHE Patient Identifier Cross-referencing for mobile (PIXm)</a></li>
  <li><a href="https://profiles.ihe.net/ITI/PMIR/">IHE Patient Master Identity Registry (PMIR)</a></li>
  <li><a href="HSCIC ITK HL7 V2 Message Specifications.pdf" target="_blank">NHS England (ADT) ITK HL7 v2 (2.4) Message Specification</a></li>
</ul>

<h3 id="introduction---hl7-v2-and-ihe-event-notifications">Introduction - HL7 v2 and IHE Event Notifications</h3>

<p>A typical NHS Acute will use Trust Integration Engine (TIE) to route these messages to systems within the Trust. 
This common pattern is:</p>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="296px" preserveAspectRatio="none" style="width:759px;height:296px;background:#FFFFFF;" version="1.1" viewBox="0 0 759 296" width="759px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="217" x="272.75" y="28.5352">Patient Identity Feed (IHE PIX)</text><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="450.5" x="303" y="181.3965" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="154" x2="154" y1="90.4648" y2="289.6387" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="421" x2="421" y1="90.4648" y2="289.6387" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="647.5" x2="647.5" y1="90.4648" y2="289.6387" /><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="298" x="5" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="75.5" y="63.0234">Patient Identity Source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284" x="12" y="79.5117">(e.g. Patient Administration System (PAS))</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="313" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="320" y="63.0234">Trust Integration Engine (TIE)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="339" y="79.5117">or Orchestration Engine</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="552.5" y="58.9766" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="559.5" y="79.5117">Patient Identity Consumer</text><polygon fill="#181818" points="409,133.0859,419,137.0859,409,141.0859,413,137.0859" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="415" y1="137.0859" y2="137.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="161" y="117.0332">Patient Identity Feed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="165" y="132.3438">IHE PIX ITI-8 / HL7 v2 ADT A31</text><polygon fill="#181818" points="165,162.3965,155,166.3965,165,170.3965,161,166.3965" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="159" x2="420" y1="166.3965" y2="166.3965" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="171" y="161.6543">Acknowledgement</text><path d="M303,181.3965 L377,181.3965 L377,188.707 L367,198.707 L303,198.707 L303,181.3965 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="450.5" x="303" y="181.3965" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="318" y="194.9648">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="392" y="194.0313">[for each recipient]</text><polygon fill="#181818" points="636,231.3281,646,235.3281,636,239.3281,640,235.3281" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="642" y1="235.3281" y2="235.3281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="428" y="215.2754">Patient Identity Feed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="432" y="230.5859">IHE PIX ITI-8 / HL7 v2 ADT A31</text><polygon fill="#181818" points="432,260.6387,422,264.6387,432,268.6387,428,264.6387" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="426" x2="647" y1="264.6387" y2="264.6387" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="438" y="259.8965">Acknowledgement</text></g></svg></figure>
<p><br clear="all" /></p>

<p>This is described in <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-5.html">IHE Patient Identifier Cross-referencing (PIX)</a></p>

<h3 id="hl7-v2-adt_a04-example-converted-to-hl7-fhir">HL7 v2 ADT_A04 Example converted to HL7 FHIR</h3>

<h4 id="use-case">Use Case</h4>

<p><code class="language-plaintext highlighter-rouge">Mrs Smith attends the hospital to attend a drop in outpatient clinic recommended by her GP Dr. Townley of the Malton GP Practice. She arrives at the hospital and speaks to the receptionist Miss Cortana at the front desk. As this is the first time she has ever visited York Hospital, Miss Cortana takes the patient's name, address and date of birth and searches on the Personal Demographics Service for her details. This is found and Miss Cortana confirms it is the correct person. As Miss Cortana had previously consented to having a Summary Care Record, her allergy information was recieved from PSIS and this was also added to the record. Once this was saved and Mrs Smith was registered, this triggered a HL7 A28 message.</code></p>

<p>An example HL7 v2 ADT_A28 is shown below, this is from <a href="HSCIC ITK HL7 V2 Message Specifications.pdf" target="_blank">NHS England (ADT) ITK HL7 v2 (2.4) Message Specification</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MSH|^~\&amp;|PAS|RCB|ROUTE|ROUTE|201001021215||ADT^A28^ADT_A05|13403891320453338075|P|2.4|0|20100102121557|||GBR|UNICODE|EN||iTKv1.0
EVN||201001021213|||111111111^Cortana^Emily^^Miss^^RCB55|201001021213
PID|1||3333333333^^^NHS||SMITH^FREDRICA^J^^MRS^^L|SCHMIDT^HELGAR^Y|196513121515|2|||29 WEST AVENUE^BURYTHORPE^MALTON^NORTH YORKSHIRE^YO32 5TT^GBR^H||+441234567890||EN|M|C22|||||A|Berlin|N||GBR||DEU||||ED
PD1|||MALTON GP PRACTICE^^Y06601|G5612908^Townley^Gregory^^^Dr^^^GMC
NK1|2|SMITH^FRANCESCA^^^MRS^^L|16|29 WEST AVENUE^BURYTHORPE^MALTON^NORTH YORKSHIRE^YO32 5TT^GBR^H|+441234567890||||||||||1|196311111513||||EN
AL1|1|DA|Z88.5|5||199807011755
ZU8|U|1|Yes|
</code></pre></div></div>

<p>In FHIR this can convert into a FHIR Message following <a href="https://build.fhir.org/ig/HL7/v2-to-fhir/message_maps.html">HL7 Version 2 to FHIR</a> but we recommend converting this for FHIR RESTful and so</p>

<ul>
  <li>PID + PD1 converts to a <a href="Patient-HL7v2-NHS-3333333333-Fredrica-Smith.html">FHIR Patient</a>.
    <ul>
      <li>FHIR Profile (NHS England) based on previous HL7 v2 PID/PD1 profiles <a href="StructureDefinition-PatientHL7v2.html">Patient HL7 v2</a></li>
    </ul>
  </li>
  <li>NK1 converts to a <a href="RelatedPerson-HL7v2-Francesca-Smith.html">FHIR RelatedPerson</a>
    <ul>
      <li>FHIR Profile (UK Core) based on previous HL7 v2 NK1 profile <a href="https://simplifier.net/hl7fhirukcorer4/ukcore-relatedperson">RelatedPerson HL7 v2</a></li>
    </ul>
  </li>
</ul>

<h3 id="hl7-fhir-and-ihe-modernisation">HL7 FHIR and IHE Modernisation</h3>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="416px" preserveAspectRatio="none" style="width:847px;height:416px;background:#FFFFFF;" version="1.1" viewBox="0 0 847 416" width="847px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="270" x="290.25" y="28.5352">Patient Identity Feeds (IHE PIX/PIXm)</text><rect fill="none" height="211.4395" style="stroke:#000000;stroke-width:1.5;" width="548.5" x="293" y="181.3965" /><rect fill="none" height="180.1289" style="stroke:#000000;stroke-width:1.5;" width="528.5" x="303" y="205.707" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="154" x2="154" y1="90.4648" y2="409.8359" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="421" x2="421" y1="90.4648" y2="409.8359" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="725.5" x2="725.5" y1="90.4648" y2="409.8359" /><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="298" x="5" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="75.5" y="63.0234">Patient Identity Source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284" x="12" y="79.5117">(e.g. Patient Administration System (PAS))</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="313" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="320" y="63.0234">Trust Integration Engine (TIE)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="339" y="79.5117">or Orchestration Engine</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="630.5" y="58.9766" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="637.5" y="79.5117">Patient Identity Consumer</text><polygon fill="#181818" points="409,133.0859,419,137.0859,409,141.0859,413,137.0859" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="415" y1="137.0859" y2="137.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="161" y="117.0332">Patient Identity Feed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="165" y="132.3438">IHE PIX ITI-8 / HL7 v2 ADT A31</text><polygon fill="#181818" points="165,162.3965,155,166.3965,165,170.3965,161,166.3965" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="159" x2="420" y1="166.3965" y2="166.3965" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="171" y="161.6543">Acknowledgement</text><path d="M293,181.3965 L367,181.3965 L367,188.707 L357,198.707 L293,198.707 L293,181.3965 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="211.4395" style="stroke:#000000;stroke-width:1.5;" width="548.5" x="293" y="181.3965" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="308" y="194.9648">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="239" x="382" y="194.0313">[for each recipient (fixed distribution list)]</text><path d="M303,205.707 L365,205.707 L365,213.0176 L355,223.0176 L303,223.0176 L303,205.707 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="180.1289" style="stroke:#000000;stroke-width:1.5;" width="528.5" x="303" y="205.707" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="318" y="219.2754">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="50" x="380" y="218.3418">[IHE PIX]</text><polygon fill="#181818" points="714,255.6387,724,259.6387,714,263.6387,718,259.6387" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="720" y1="259.6387" y2="259.6387" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="428" y="239.5859">Patient Identity Feed ITI-8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="432" y="254.8965">HL7 v2 ADT A31</text><polygon fill="#181818" points="432,284.9492,422,288.9492,432,292.9492,428,288.9492" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="426" x2="725" y1="288.9492" y2="288.9492" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="438" y="284.207">Acknowledgement</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="303" x2="831.5" y1="297.9492" y2="297.9492" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="61" x="308" y="308.584">[IHE PIXm]</text><polygon fill="#181818" points="714,344.5254,724,348.5254,714,352.5254,718,348.5254" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="720" y1="348.5254" y2="348.5254" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="428" y="328.4727">Patient Identity Feed ITI-104</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="432" y="343.7832">HL7 FHIR PUT /Patient?identifier={identifier}</text><polygon fill="#181818" points="432,373.8359,422,377.8359,432,381.8359,428,377.8359" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="426" x2="725" y1="377.8359" y2="377.8359" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="438" y="373.0938">Acknowledgement</text></g></svg></figure>
<p><br clear="all" /></p>

<p>The previous pattern remains unchanged but an option of using FHIR is added. This is described in  <a href="https://profiles.ihe.net/ITI/PIXm/index.html">IHE Patient Identifier Cross-referencing for mobile (PIXm)</a></p>

<h3 id="hl7-fhir-and-ihe-events-notifications-via-pubsub">HL7 FHIR and IHE Events Notifications via Pub/Sub</h3>

<p>Current implementations typically use a <a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/MessageRouter.html">fixed distribution list</a>, this can be enhanced by the addition of a <a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/PublishSubscribeChannel.html">Publish-Subscribe Channel</a>.
This is described in <a href="https://profiles.ihe.net/ITI/PMIR/">IHE Patient Master Identity Registry (PMIR)</a></p>

<p>Note:</p>

<ul>
  <li>Unlike IHE DSUBm, this uses <strong>message</strong> channels, FHIR Messaging and doesn’t use the FHIR R5 Subscription backport.
    <ul>
      <li>TODO This needs inconsistency needs to be checked - believe <strong>rest-hook</strong> channel is more desirable.</li>
    </ul>
  </li>
</ul>

<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="385px" preserveAspectRatio="none" style="width:588px;height:385px;background:#FFFFFF;" version="1.1" viewBox="0 0 588 385" width="588px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="329" x="131" y="28.5352">Patient Identity Feed with FHIR Subscriptions</text><rect fill="none" height="196.4844" style="stroke:#000000;stroke-width:1.5;" width="572" x="10" y="164.9082" /><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="385" x="187" y="263.1504" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="103" x2="103" y1="73.9766" y2="378.3926" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="279" x2="279" y1="73.9766" y2="378.3926" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="466" x2="466" y1="73.9766" y2="378.3926" /><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="20" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="27" y="63.0234">Patient Identity Source</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="197" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="204" y="63.0234">Subscription Manager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="371" y="42.4883" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="378" y="63.0234">Patient Identity Consumer</text><polygon fill="#181818" points="290,116.5977,280,120.5977,290,124.5977,286,120.5977" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="465.5" y1="120.5977" y2="120.5977" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="296" y="100.5449">Resource Subscription</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="296" y="115.8555">IHE PMIR ITI-94</text><polygon fill="#181818" points="454.5,145.9082,464.5,149.9082,454.5,153.9082,458.5,149.9082" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="279" x2="460.5" y1="149.9082" y2="149.9082" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="286" y="145.166">Acknowledgement</text><path d="M10,164.9082 L77,164.9082 L77,172.2188 L67,182.2188 L10,182.2188 L10,164.9082 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="196.4844" style="stroke:#000000;stroke-width:1.5;" width="572" x="10" y="164.9082" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="25" y="178.4766">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="173" x="92" y="177.543">[Patient Demographics Update]</text><polygon fill="#181818" points="267,214.8398,277,218.8398,267,222.8398,271,218.8398" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="103.5" x2="273" y1="218.8398" y2="218.8398" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="110.5" y="198.7871">Resource Publish</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="110.5" y="214.0977">IHE PMIR ITI-93</text><polygon fill="#181818" points="114.5,244.1504,104.5,248.1504,114.5,252.1504,110.5,248.1504" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="108.5" x2="278" y1="248.1504" y2="248.1504" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="120.5" y="243.4082">Response</text><path d="M187,263.1504 L261,263.1504 L261,270.4609 L251,280.4609 L187,280.4609 L187,263.1504 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="385" x="187" y="263.1504" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="202" y="276.7188">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184" x="276" y="275.7852">[for each matching Subscription]</text><polygon fill="#181818" points="454.5,313.082,464.5,317.082,454.5,321.082,458.5,317.082" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="460.5" y1="317.082" y2="317.082" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="286" y="297.0293">Resource Notify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="286" y="312.3398">IHE PMIR ITI-93</text><polygon fill="#181818" points="290,342.3926,280,346.3926,290,350.3926,286,346.3926" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284" x2="465.5" y1="346.3926" y2="346.3926" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="296" y="341.6504">Acknowledgement</text></g></svg></figure>
<p><br clear="all" /></p>

<ol>
  <li>The Patient Identity Consumer creates a <a href="Subscription-ex-Subscription.html">Subscription for all patients</a></li>
  <li>The Patient Identity Source (e.g. an Acute NHS Trust) sends a <a href="Bundle-ex-PMIRBundleCreate.html">Patient Identity Feed Message</a> to the Subscription Manager.</li>
  <li>The Subscription Manager checks for matching subscriptions</li>
  <li>For each matching Subscription it sends a <a href="Bundle-ex-PMIRBundleCreate.html">Patient Identity Feed Message</a> to the recipient.</li>
</ol>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2024+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.england.nhs.uk/">NHS England</a>.  Package uk.nhs.england.administration#0.0.1 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Fri, Mar 22, 2024 11:42+0000">2024-03-22</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
            <div style="color: #333333" >

          Links: <a style="color: #81BEF7" href="toc.html">Table of Contents</a> |
                 <a style="color: #81BEF7" href="qa.html">QA Report</a> 
                 <a style="color: #81BEF7" rel="license" href="http://hl7.org/fhir/R4/license.html"><img style="border-style: none;" alt="CC0" src="cc0.png"/></a>
<div>
</div>

</div>
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

